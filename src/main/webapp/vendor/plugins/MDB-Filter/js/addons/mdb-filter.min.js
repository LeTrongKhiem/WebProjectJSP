!function(t){t.fn.mdbFilter=function(e){let i,n,o=t.extend({draggable:!1,filterData:"filter",filterTarget:"category",fillGaps:!1},e),s=t(this)[0].querySelector(".filter-gallery"),r=new Muuri(s,{dragEnabled:o.draggable,fillGaps:o.fillGaps});t(this).find(".filter-nav button").on("click",function(){i=t(this).data(o.filterData),t(this).parent().find(".active").removeClass("active"),t(this).addClass("active"),r.filter(function(t){let e=t.getElement(),s=!n||(e.getAttribute("data-title")||"").toLowerCase().indexOf(n)>-1,r=!i||(e.getAttribute("data-"+o.filterTarget)||"")===i;return s&&r})})};!function(t){for(var e=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1;var e=function t(e,i){return e&&(i(e)?e:t(e.parentNode,i))}(t.target||t.srcElement,function(t){return t.tagName&&"FIGURE"===t.tagName.toUpperCase()});if(e){for(var n,o=e.parentNode,s=e.parentNode.childNodes,r=s.length,a=0,l=0;l<r;l++)if(1===s[l].nodeType){if(s[l]===e){n=a;break}a++}return n>=0&&i(n,o),!1}},i=function(t,e,i,n){var o,s,r=document.querySelectorAll(".pswp")[0];if(s=function(t){for(var e,i,n,o,s=t.childNodes,r=s.length,a=[],l=0;l<r;l++)1===(e=s[l]).nodeType&&(n=(i=e.children[0].children[0]).getAttribute("data-size").split("x"),o={src:i.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},e.children.length>1&&(o.title=e.children[1].innerHTML),i.children.length>0&&(o.msrc=i.children[0].getAttribute("src")),o.el=e,a.push(o));return a}(e),o={galleryUID:e.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(t){var e=s[t].el.getElementsByTagName("img")[0],i=window.pageYOffset||document.documentElement.scrollTop,n=e.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}}},n)if(o.galleryPIDs){for(var a=0;a<s.length;a++)if(s[a].pid==t){o.index=a;break}}else o.index=parseInt(t,10)-1;else o.index=parseInt(t,10);isNaN(o.index)||(i&&(o.showAnimationDuration=0),new PhotoSwipe(r,PhotoSwipeUI_Default,s,o).init())},n=document.querySelectorAll(t),o=0,s=n.length;o<s;o++)n[o].setAttribute("data-pswp-uid",o+1),n[o].onclick=e;var r=function(){var t=window.location.hash.substring(1),e={};if(t.length<5)return e;for(var i=t.split("&"),n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(e[o[0]]=o[1])}return e.gid&&(e.gid=parseInt(e.gid,10)),e}();r.pid&&r.gid&&i(r.pid,n[r.gid-1],!0,!0)}(".mdb-ligthbox")}(jQuery),function(t,e,i,n){"use strict";var o,s=["","webkit","Moz","MS","ms","o"],r=e.createElement("div"),a="function",l=Math.round,h=Math.abs,u=Date.now;function c(t,e,i){return setTimeout(v(t,i),e)}function d(t,e,i){return!!Array.isArray(t)&&(p(t,i[e],i),!0)}function p(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function f(e,i,n){var o="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=t.console&&(t.console.warn||t.console.log);return s&&s.call(t.console,o,n),e.apply(this,arguments)}}o="function"!=typeof Object.assign?function(t){if(t===n||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!==n&&null!==o)for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e}:Object.assign;var m=f(function(t,e,i){for(var o=Object.keys(e),s=0;s<o.length;)(!i||i&&t[o[s]]===n)&&(t[o[s]]=e[o[s]]),s++;return t},"extend","Use `assign`."),_=f(function(t,e){return m(t,e,!0)},"merge","Use `assign`.");function g(t,e,i){var n,s=e.prototype;(n=t.prototype=Object.create(s)).constructor=t,n._super=s,i&&o(n,i)}function v(t,e){return function(){return t.apply(e,arguments)}}function y(t,e){return typeof t==a?t.apply(e&&e[0]||n,e):t}function w(t,e){return t===n?e:t}function x(t,e,i){p(S(e),function(e){t.addEventListener(e,i,!1)})}function b(t,e,i){p(S(e),function(e){t.removeEventListener(e,i,!1)})}function D(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function S(t){return t.trim().split(/\s+/g)}function C(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function I(t){return Array.prototype.slice.call(t,0)}function E(t,e,i){for(var n=[],o=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];C(o,r)<0&&n.push(t[s]),o[s]=r,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function A(t,e){for(var i,o,r=e[0].toUpperCase()+e.slice(1),a=0;a<s.length;){if((o=(i=s[a])?i+r:e)in t)return o;a++}return n}var R=1;function M(e){var i=e.ownerDocument||e;return i.defaultView||i.parentWindow||t}var O="ontouchstart"in t,L=A(t,"PointerEvent")!==n,P=O&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),k=25,F=1,z=2,N=4,H=8,Y=1,G=2,X=4,q=8,Z=16,W=G|X,B=q|Z,U=W|B,V=["x","y"],K=["clientX","clientY"];function j(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){y(t.options.enable,[t])&&i.handler(e)},this.init()}function $(t,e,i){var o=i.pointers.length,s=i.changedPointers.length,r=e&F&&o-s==0,a=e&(N|H)&&o-s==0;i.isFirst=!!r,i.isFinal=!!a,r&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,o=e.pointers,s=o.length;i.firstInput||(i.firstInput=Q(e));s>1&&!i.firstMultiple?i.firstMultiple=Q(e):1===s&&(i.firstMultiple=!1);var r=i.firstInput,a=i.firstMultiple,l=a?a.center:r.center,c=e.center=J(o);e.timeStamp=u(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=nt(l,c),e.distance=it(l,c),function(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},s=t.prevInput||{};e.eventType!==F&&s.eventType!==N||(o=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}(i,e),e.offsetDirection=et(e.deltaX,e.deltaY);var d=tt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=h(d.x)>h(d.y)?d.x:d.y,e.scale=a?(p=a.pointers,f=o,it(f[0],f[1],K)/it(p[0],p[1],K)):1,e.rotation=a?function(t,e){return nt(e[1],e[0],K)+nt(t[1],t[0],K)}(a.pointers,o):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,o,s,r,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=H&&(l>k||a.velocity===n)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,d=tt(l,u,c);o=d.x,s=d.y,i=h(d.x)>h(d.y)?d.x:d.y,r=et(u,c),t.lastInterval=e}else i=a.velocity,o=a.velocityX,s=a.velocityY,r=a.direction;e.velocity=i,e.velocityX=o,e.velocityY=s,e.direction=r}(i,e);var p,f;var m=t.element;D(e.srcEvent.target,m)&&(m=e.srcEvent.target);e.target=m}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Q(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:l(t.pointers[i].clientX),clientY:l(t.pointers[i].clientY)},i++;return{timeStamp:u(),pointers:e,center:J(e),deltaX:t.deltaX,deltaY:t.deltaY}}function J(t){var e=t.length;if(1===e)return{x:l(t[0].clientX),y:l(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:l(i/e),y:l(n/e)}}function tt(t,e,i){return{x:e/t||0,y:i/t||0}}function et(t,e){return t===e?Y:h(t)>=h(e)?t<0?G:X:e<0?q:Z}function it(t,e,i){i||(i=V);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function nt(t,e,i){i||(i=V);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}j.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(M(this.element),this.evWin,this.domHandler)}};var ot={mousedown:F,mousemove:z,mouseup:N},st="mousedown",rt="mousemove mouseup";function at(){this.evEl=st,this.evWin=rt,this.pressed=!1,j.apply(this,arguments)}g(at,j,{handler:function(t){var e=ot[t.type];e&F&&0===t.button&&(this.pressed=!0),e&z&&1!==t.which&&(e=N),this.pressed&&(e&N&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var lt={pointerdown:F,pointermove:z,pointerup:N,pointercancel:H,pointerout:H},ht={2:"touch",3:"pen",4:"mouse",5:"kinect"},ut="pointerdown",ct="pointermove pointerup pointercancel";function dt(){this.evEl=ut,this.evWin=ct,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}t.MSPointerEvent&&!t.PointerEvent&&(ut="MSPointerDown",ct="MSPointerMove MSPointerUp MSPointerCancel"),g(dt,j,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=lt[n],s=ht[t.pointerType]||t.pointerType,r="touch"==s,a=C(e,t.pointerId,"pointerId");o&F&&(0===t.button||r)?a<0&&(e.push(t),a=e.length-1):o&(N|H)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var pt={touchstart:F,touchmove:z,touchend:N,touchcancel:H},ft="touchstart",mt="touchstart touchmove touchend touchcancel";function _t(){this.evTarget=ft,this.evWin=mt,this.started=!1,j.apply(this,arguments)}g(_t,j,{handler:function(t){var e=pt[t.type];if(e===F&&(this.started=!0),this.started){var i=function(t,e){var i=I(t.touches),n=I(t.changedTouches);e&(N|H)&&(i=E(i.concat(n),"identifier",!0));return[i,n]}.call(this,t,e);e&(N|H)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var gt={touchstart:F,touchmove:z,touchend:N,touchcancel:H},vt="touchstart touchmove touchend touchcancel";function yt(){this.evTarget=vt,this.targetIds={},j.apply(this,arguments)}g(yt,j,{handler:function(t){var e=gt[t.type],i=function(t,e){var i=I(t.touches),n=this.targetIds;if(e&(F|z)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,s,r=I(t.changedTouches),a=[],l=this.target;if(s=i.filter(function(t){return D(t.target,l)}),e===F)for(o=0;o<s.length;)n[s[o].identifier]=!0,o++;o=0;for(;o<r.length;)n[r[o].identifier]&&a.push(r[o]),e&(N|H)&&delete n[r[o].identifier],o++;if(!a.length)return;return[E(s.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var wt=2500,xt=25;function bt(){j.apply(this,arguments);var t=v(this.handler,this);this.touch=new yt(this.manager,t),this.mouse=new at(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Dt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)},wt)}}g(bt,j,{handler:function(t,e,i){var n="touch"==i.pointerType,o="mouse"==i.pointerType;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)(function(t,e){t&F?(this.primaryTouch=e.changedPointers[0].identifier,Dt.call(this,e)):t&(N|H)&&Dt.call(this,e)}).call(this,e,i);else if(o&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],s=Math.abs(e-o.x),r=Math.abs(i-o.y);if(s<=xt&&r<=xt)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Tt=A(r.style,"touchAction"),St=Tt!==n,Ct="auto",It="manipulation",Et="none",At="pan-x",Rt="pan-y",Mt=function(){if(!St)return!1;var e={},i=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!i||t.CSS.supports("touch-action",n)}),e}();function Ot(t,e){this.manager=t,this.set(e)}Ot.prototype={set:function(t){"compute"==t&&(t=this.compute()),St&&this.manager.element.style&&Mt[t]&&(this.manager.element.style[Tt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return p(this.manager.recognizers,function(e){y(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(T(t,Et))return Et;var e=T(t,At),i=T(t,Rt);if(e&&i)return Et;if(e||i)return e?At:Rt;if(T(t,It))return It;return Ct}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=T(n,Et)&&!Mt[Et],s=T(n,Rt)&&!Mt[Rt],r=T(n,At)&&!Mt[At];if(o){var a=1===t.pointers.length,l=t.distance<2,h=t.deltaTime<250;if(a&&l&&h)return}if(!r||!s)return o||s&&i&W||r&&i&B?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Lt=1,Pt=2,kt=4,Ft=8,zt=Ft,Nt=16;function Ht(t){this.options=o({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=Lt,this.simultaneous={},this.requireFail=[]}function Yt(t){return t&Nt?"cancel":t&Ft?"end":t&kt?"move":t&Pt?"start":""}function Gt(t){return t==Z?"down":t==q?"up":t==G?"left":t==X?"right":""}function Xt(t,e){var i=e.manager;return i?i.get(t):t}function qt(){Ht.apply(this,arguments)}function Zt(){qt.apply(this,arguments),this.pX=null,this.pY=null}function Wt(){qt.apply(this,arguments)}function Bt(){Ht.apply(this,arguments),this._timer=null,this._input=null}function Ut(){qt.apply(this,arguments)}function Vt(){qt.apply(this,arguments)}function Kt(){Ht.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function jt(t,e){return(e=e||{}).recognizers=w(e.recognizers,jt.defaults.preset),new $t(t,e)}Ht.prototype={defaults:{},set:function(t){return o(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(d(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Xt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return d(t,"dropRecognizeWith",this)?this:(t=Xt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(d(t,"requireFailure",this))return this;var e=this.requireFail;return-1===C(e,t=Xt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(d(t,"dropRequireFailure",this))return this;t=Xt(t,this);var e=C(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<Ft&&n(e.options.event+Yt(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=Ft&&n(e.options.event+Yt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Lt)))return!1;t++}return!0},recognize:function(t){var e=o({},t);if(!y(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(zt|Nt|32)&&(this.state=Lt),this.state=this.process(e),this.state&(Pt|kt|Ft|Nt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},g(qt,Ht,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Pt|kt),o=this.attrTest(t);return n&&(i&H||!o)?e|Nt:n||o?i&N?e|Ft:e&Pt?e|kt:Pt:32}}),g(Zt,qt,{defaults:{event:"pan",threshold:10,pointers:1,direction:U},getTouchAction:function(){var t=this.options.direction,e=[];return t&W&&e.push(Rt),t&B&&e.push(At),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,s=t.deltaX,r=t.deltaY;return o&e.direction||(e.direction&W?(o=0===s?Y:s<0?G:X,i=s!=this.pX,n=Math.abs(t.deltaX)):(o=0===r?Y:r<0?q:Z,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return qt.prototype.attrTest.call(this,t)&&(this.state&Pt||!(this.state&Pt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Gt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),g(Wt,qt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Et]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Pt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),g(Bt,Ht,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ct]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(N|H)&&!o)this.reset();else if(t.eventType&F)this.reset(),this._timer=c(function(){this.state=zt,this.tryEmit()},e.time,this);else if(t.eventType&N)return zt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===zt&&(t&&t.eventType&N?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}}),g(Ut,qt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Et]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Pt)}}),g(Vt,qt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:W|B,pointers:1},getTouchAction:function(){return Zt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(W|B)?e=t.overallVelocity:i&W?e=t.overallVelocityX:i&B&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&t.eventType&N},emit:function(t){var e=Gt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),g(Kt,Ht,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[It]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&F&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=N)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||it(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&s?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=zt,this.tryEmit()},e.interval,this),Pt):zt}return 32},failTimeout:function(){return this._timer=c(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==zt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),jt.VERSION="2.0.8",jt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ut,{enable:!1}],[Wt,{enable:!1},["rotate"]],[Vt,{direction:W}],[Zt,{direction:W},["swipe"]],[Kt],[Kt,{event:"doubletap",taps:2},["tap"]],[Bt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function $t(t,e){var i;this.options=o({},jt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(L?dt:P?yt:O?bt:at))(i,$),this.touchAction=new Ot(this,this.options.touchAction),Qt(this,!0),p(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Qt(t,e){var i,n=t.element;n.style&&(p(t.options.cssProps,function(o,s){i=A(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}$t.prototype={set:function(t){return o(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&zt)&&(o=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(Pt|kt|Ft)&&(o=e.curRecognizer=i),s++}},get:function(t){if(t instanceof Ht)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(d(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(d(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=C(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==n&&e!==n){var i=this.handlers;return p(S(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==n){var i=this.handlers;return p(S(t),function(t){e?i[t]&&i[t].splice(C(i[t],e),1):delete i[t]}),this}},emit:function(t,i){this.options.domEvents&&function(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}(t,i);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){i.type=t,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](i),o++}},destroy:function(){this.element&&Qt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(jt,{INPUT_START:F,INPUT_MOVE:z,INPUT_END:N,INPUT_CANCEL:H,STATE_POSSIBLE:Lt,STATE_BEGAN:Pt,STATE_CHANGED:kt,STATE_ENDED:Ft,STATE_RECOGNIZED:zt,STATE_CANCELLED:Nt,STATE_FAILED:32,DIRECTION_NONE:Y,DIRECTION_LEFT:G,DIRECTION_RIGHT:X,DIRECTION_UP:q,DIRECTION_DOWN:Z,DIRECTION_HORIZONTAL:W,DIRECTION_VERTICAL:B,DIRECTION_ALL:U,Manager:$t,Input:j,TouchAction:Ot,TouchInput:yt,MouseInput:at,PointerEventInput:dt,TouchMouseInput:bt,SingleTouchInput:_t,Recognizer:Ht,AttrRecognizer:qt,Tap:Kt,Pan:Zt,Swipe:Vt,Pinch:Wt,Rotate:Ut,Press:Bt,on:x,off:b,each:p,merge:_,extend:m,assign:o,inherit:g,bindFn:v,prefixed:A}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=jt,"function"==typeof define&&define.amd?define(function(){return jt}):"undefined"!=typeof module&&module.exports?module.exports=jt:t.Hammer=jt}(window,document),function(t,e){if("object"==typeof exports&&"undefined"!=typeof module){var i;try{i=require("hammerjs")}catch(t){}module.exports=e(i)}else t.Muuri=e(t.Hammer)}(this,function(t){"use strict";var e="Muuri",i={},n="layoutEnd";function o(){this._events={},this._queue=[],this._counter=0,this._isDestroyed=!1}o.prototype.on=function(t,e){if(this._isDestroyed)return this;var i=this._events[t];return i||(i=this._events[t]=[]),i.push(e),this},o.prototype.once=function(t,e){if(this._isDestroyed)return this;var i=function(){this.off(t,i),e.apply(null,arguments)}.bind(this);return this.on(t,i)},o.prototype.off=function(t,e){if(this._isDestroyed)return this;var i=this._events[t];if(!i||!i.length)return this;if(!e)return i.length=0,this;for(var n=i.length;n--;)e===i[n]&&i.splice(n,1);return this},o.prototype.emit=function(t,e,i,n){if(this._isDestroyed)return this;var o=this._events[t];if(!o||!o.length)return this;var s,r=this._queue,a=r.length,l=arguments.length-1;for(s=0;s<o.length;s++)r.push(o[s]);for(++this._counter,s=a,a=r.length;s<a;s++)if(0===l?r[s]():1===l?r[s](e):2===l?r[s](e,i):r[s](e,i,n),this._isDestroyed)return this;return--this._counter,this._counter||(r.length=0),this},o.prototype.destroy=function(){if(this._isDestroyed)return this;var t,e=this._events;for(t in this._isDestroyed=!0,this._queue.length=this._counter=0,e)e[t]&&(e[t].length=0,e[t]=void 0);return this};var s=!1,r="transform",a="transform";["","Webkit","Moz","O","ms"].forEach(function(t){if(!s){var e=t?t+"Transform":"transform";void 0!==document.documentElement.style[e]&&(t=t.toLowerCase(),r=t?"-"+t+"-transform":"transform",a=e,s=!0)}});var l="function"==typeof WeakMap?new WeakMap:null;function h(t,e){var i=l&&l.get(t);return i||(i=window.getComputedStyle(t,null),l&&l.set(t,i)),i.getPropertyValue("transform"===e?r:e)}var u=/([A-Z])/g;function c(t){return t.replace(u,"-$1").toLowerCase()}function d(t,e){for(var i in e)t.style["transform"===i?a:i]=e[i]}function p(t){this._element=t,this._animation=null,this._callback=null,this._props=[],this._values=[],this._keyframes=[],this._options={},this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}p.prototype.start=function(t,e,i){if(!this._isDestroyed){var n=this._animation,o=this._props,s=this._values,r=i||0,a=!1;if(n){var l,h=0;for(var u in e)if(++h,-1===(l=o.indexOf(u))||e[u]!==s[l]){a=!0;break}a||h===o.length||(a=!0)}if(a&&n.cancel(),this._callback="function"==typeof r.onFinish?r.onFinish:null,!n||a){for(u in o.length=s.length=0,e)o.push(u),s.push(e[u]);var c=this._keyframes;c[0]=t,c[1]=e;var p=this._options;p.duration=r.duration||300,p.easing=r.easing||"ease";var f=this._element;(n=f.animate(c,p)).onfinish=this._onFinish,this._animation=n,d(f,e)}}},p.prototype.stop=function(t){if(!this._isDestroyed&&this._animation){var e,i,n,o=this._element,s=this._props,r=this._values;if(t)d(o,t);else for(n=0;n<s.length;n++)i=h(o,c(e=s[n])),o.style["transform"===e?a:e]=i;this._animation.cancel(),this._animation=this._callback=null,s.length=r.length=0}},p.prototype.isAnimating=function(){return!!this._animation},p.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=this._options=this._keyframes=null,this._isDestroyed=!0)},p.prototype._onFinish=function(){var t=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,t&&t()};var f=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,16)}).bind(window);function m(){this._nextTick=null,this._queue=[],this._reads={},this._writes={},this._batch=[],this._batchReads={},this._batchWrites={},this._flush=this._flush.bind(this)}m.prototype.add=function(t,e,i,n){var o=this._queue.indexOf(t);o>-1&&(this._queue[o]=void 0),n?this._queue.unshift(t):this._queue.push(t),this._reads[t]=e,this._writes[t]=i,this._nextTick||(this._nextTick=f(this._flush))},m.prototype.cancel=function(t){var e=this._queue.indexOf(t);e>-1&&(this._queue[e]=void 0,this._reads[t]=void 0,this._writes[t]=void 0)},m.prototype._flush=function(){var t,e,i=this._queue,n=this._reads,o=this._writes,s=this._batch,r=this._batchReads,a=this._batchWrites,l=i.length;for(this._nextTick=null,e=0;e<l;e++)(t=i[e])&&(s.push(t),r[t]=n[t],n[t]=void 0,a[t]=o[t],o[t]=void 0);for(i.length=0,e=0;e<l;e++)r[t=s[e]]&&(r[t](),r[t]=void 0);for(e=0;e<l;e++)a[t=s[e]]&&(a[t](),a[t]=void 0);s.length=0,!this._nextTick&&i.length&&(this._nextTick=f(this._flush))};var _=new m,g="layout",v="visibility",y="move",w="scroll";function x(t){return _.cancel(t+g)}function b(t){return _.cancel(t+v)}function D(t){return _.cancel(t+y)}function T(t){return _.cancel(t+w)}var S=Element.prototype,C=S.matches||S.matchesSelector||S.webkitMatchesSelector||S.mozMatchesSelector||S.msMatchesSelector||S.oMatchesSelector;function I(t,e){return C.call(t,e)}var E="classList"in Element.prototype?function(t,e){t.classList.add(e)}:function(t,e){I(t,"."+e)||(t.className+=" "+e)};function A(t,e,i){var n=t.length,o=Math.max(0,i?n:n-1);return e>o?o:e<0?Math.max(o+e+1,0):e}function R(t,e,i){if(!(t.length<2)){var n=A(t,e),o=A(t,i);n!==o&&t.splice(o,0,t.splice(n,1)[0])}}function M(t,e,i){if(!(t.length<2)){var n,o=A(t,e),s=A(t,i);o!==s&&(n=t[o],t[o]=t[s],t[s]=n)}}var O="cancel",L="finish";function P(t,e){var i;return e>0?function(n){void 0!==i&&(i=window.clearTimeout(i),n===L&&t()),n!==O&&n!==L&&(i=window.setTimeout(function(){i=void 0,t()},e))}:function(e){e!==O&&t()}}function k(t){var e=h(t,"transform");if(!e||"none"===e)return!1;var i=h(t,"display");return"inline"!==i&&"none"!==i}function F(t,e){for(var i=(e?t:t.parentElement)||document;i&&i!==document&&"static"===h(i,"position")&&!k(i);)i=i.parentElement||document;return i}function z(t,e){return parseFloat(h(t,e))||0}var N={},H={},Y={};function G(t,e){var i,n=e||{};return n.left=0,n.top=0,t===document?n:(n.left=window.pageXOffset||0,n.top=window.pageYOffset||0,t.self===window.self?n:(i=t.getBoundingClientRect(),n.left+=i.left,n.top+=i.top,n.left+=z(t,"border-left-width"),n.top+=z(t,"border-top-width"),n))}function X(t,e,i){return Y.left=0,Y.top=0,t===e?Y:i&&(t=F(t,!0))===(e=F(e,!0))?Y:(G(t,N),G(e,H),Y.left=H.left-N.left,Y.top=H.top-N.top,Y)}var q={};function Z(t){q.x=0,q.y=0;var e=h(t,"transform");if(!e)return q;var i=e.replace("matrix(","").split(",");return q.x=parseFloat(i[4])||0,q.y=parseFloat(i[5])||0,q}function W(t,e){return"translateX("+t+"px) translateY("+e+"px)"}var B=[];function U(t,e,i){var n="number"==typeof i?i:-1;n<0&&(n=t.length-n+1),t.splice.apply(t,B.concat(n,0,e)),B.length=0}var V="[object Object]",K=Object.prototype.toString;function j(t){return"object"==typeof t&&K.call(t)===V}var $="classList"in Element.prototype?function(t,e){t.classList.remove(e)}:function(t,e){I(t,"."+e)&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim())},Q=lt(),J=0,tt=1,et=2,it=3;function nt(i){if(!t)throw new Error("["+e+"] required dependency Hammer is not defined.");null===Q&&(Q=lt());var n,o,s=this,r=i._element,a=i.getGrid(),l=a._settings,h="function"==typeof l.dragStartPredicate?l.dragStartPredicate:nt.defaultStartPredicate,u=J;this._item=i,this._gridId=a._id,this._hammer=n=new t.Manager(r),this._isDestroyed=!1,this._isMigrating=!1,this._reset(),this._onScroll=this._onScroll.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._checkOverlap=this._checkOverlap.bind(this),this._forceResolveStartPredicate=function(t){this._isDestroyed||u!==tt||(u=et,this._onStart(t))},this._checkOverlapDebounce=P(this._checkOverlap,l.dragSortInterval),n.add(new t.Pan({event:"drag",pointers:1,threshold:0,direction:t.DIRECTION_ALL})),n.add(new t.Press({event:"draginit",pointers:1,threshold:1e3,time:0})),j(l.dragHammerSettings)&&n.set(l.dragHammerSettings),n.on("draginit dragstart dragmove",function(t){u===J&&(u=tt),u===tt?!0===(o=h(s._item,t))?(u=et,s._onStart(t)):!1===o&&(u=it):u===et&&s._isActive&&s._onMove(t)}).on("dragend dragcancel draginitup",function(t){var e=u===et;h(s._item,t),u=J,e&&s._isActive&&s._onEnd(t)}),r.addEventListener("dragstart",ot,!1)}function ot(t){t.preventDefault&&t.preventDefault()}function st(t,e){return t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top?0:(Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left))*(Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top))/(Math.min(t.width,e.width)*Math.min(t.height,e.height))*100}function rt(t,e){var i=e||[],n=t.parentNode;if(Q){if("fixed"===h(t,"position"))return i;for(;n&&n!==document&&n!==document.documentElement;)at(n)&&i.push(n),n="fixed"===h(n,"position")?null:n.parentNode;return null!==n&&i.push(window),i}for(;n&&n!==document;)"fixed"!==h(t,"position")||k(n)?(at(n)&&i.push(n),t=n,n=n.parentNode):n=n.parentNode;return i[i.length-1]===document.documentElement?i[i.length-1]=window:i.push(window),i}function at(t){var e=h(t,"overflow");return"auto"===e||"scroll"===e||("auto"===(e=h(t,"overflow-x"))||"scroll"===e||("auto"===(e=h(t,"overflow-y"))||"scroll"===e))}function lt(){if(!s)return!0;if(!document.body)return null;var t=[0,1].map(function(t,e){return(t=document.createElement("div")).style.position=e?"fixed":"absolute",t.style.display="block",t.style.visibility="hidden",t.style.left=e?"0px":"1px",t.style[a]="none",t}),e=document.body.appendChild(t[0]),i=e.appendChild(t[1]),n=i.getBoundingClientRect().left;e.style[a]="scale(1)";var o=n===i.getBoundingClientRect().left;return document.body.removeChild(e),o}function ht(){this._queue=[],this._isDestroyed=!1}function ut(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._currentLeft=0,this._currentTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animateOptions={onFinish:this._finish.bind(this)},this._queue=new ht,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}nt.defaultStartPredicate=function(t,e,i){var n=t._drag,o=n._startPredicateData||n._setupStartPredicate(i);if(!e.isFinal)return!(!o.handleElement&&(o.handleElement=n._getStartPredicateHandle(e),!o.handleElement))&&(o.delay&&(o.event=e,o.delayTimer||(o.delayTimer=window.setTimeout(function(){o.delay=0,n._resolveStartPredicate(o.event)&&(n._forceResolveStartPredicate(o.event),n._resetStartPredicate())},o.delay))),n._resolveStartPredicate(e));n._finishStartPredicate(e)},nt.defaultSortPredicate=function(){var t={},e={},i={},n=[];return function(o,s){var r=o._drag,a=r._getGrid(),l=s&&"number"==typeof s.threshold?s.threshold:50,h=s&&"swap"===s.action?"swap":"move";t.width=o._width,t.height=o._height,t.left=r._elementClientX,t.top=r._elementClientY;var u=function(i,o,s){var r,a,l,h,u=null,c=o._settings.dragSort,d=-1;if(!0===c?(n[0]=o,a=n):a=c.call(o,i),!Array.isArray(a))return u;for(h=0;h<a.length;h++)(l=a[h])._isDestroyed||(l._updateBoundingRect(),e.width=l._width,e.height=l._height,e.left=l._left,e.top=l._top,(r=st(t,e))>s&&r>d&&(d=r,u=l));return n.length=0,u}(o,a,l);if(!u)return!1;var c,d,p,f,m,_=0,g=0,v=-1;for(u===a?(t.left=r._gridX+o._marginLeft,t.top=r._gridY+o._marginTop):(u._updateBorders(1,0,1,0),_=u._left+u._borderLeft,g=u._top+u._borderTop),m=0;m<u._items.length;m++)(p=u._items[m])._isActive&&p!==o&&(d=!0,e.width=p._width,e.height=p._height,e.left=p._left+p._marginLeft+_,e.top=p._top+p._marginTop+g,(f=st(t,e))>v&&(c=m,v=f));return v<l&&o.getGrid()!==u&&(c=d?-1:0,v=1/0),v>=l&&(i.grid=u,i.index=c,i.action=h,i)}}(),nt.prototype.stop=function(){var t=this._item,e=t._element,i=this._getGrid();return this._isActive?this._isMigrating?(this._finishMigration(),this):(D(t._id),T(t._id),this._unbindScrollListeners(),this._checkOverlapDebounce("cancel"),e.parentNode!==i._element&&(i._element.appendChild(e),e.style[a]=W(this._gridX,this._gridY)),$(e,i._settings.itemDraggingClass),this._reset(),this):this},nt.prototype.destroy=function(){return this._isDestroyed?this:(this.stop(),this._hammer.destroy(),this._item._element.removeEventListener("dragstart",ot,!1),this._isDestroyed=!0,this)},nt.prototype._getGrid=function(){return i[this._gridId]||null},nt.prototype._reset=function(){this._isActive=!1,this._container=null,this._containingBlock=null,this._lastEvent=null,this._lastScrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._elementClientX=0,this._elementClientY=0,this._containerDiffX=0,this._containerDiffY=0},nt.prototype._bindScrollListeners=function(){var t,e,i=this._getGrid()._element,n=this._container,o=this._scrollers;if(o.length=0,rt(this._item._element,o),n!==i)for(rt(i,t=[]),t.push(i),e=0;e<t.length;e++)o.indexOf(t[e])<0&&o.push(t[e]);for(e=0;e<o.length;e++)o[e].addEventListener("scroll",this._onScroll)},nt.prototype._unbindScrollListeners=function(){var t,e=this._scrollers;for(t=0;t<e.length;t++)e[t].removeEventListener("scroll",this._onScroll);e.length=0},nt.prototype._setupStartPredicate=function(t){var e=t||this._getGrid()._settings.dragStartPredicate||0;return this._startPredicateData={distance:Math.abs(e.distance)||0,delay:Math.max(e.delay,0)||0,handle:"string"==typeof e.handle&&e.handle}},nt.prototype._getStartPredicateHandle=function(t){var e=this._startPredicateData,i=this._item._element,n=i;if(!e.handle)return n;for(n=(t.changedPointers[0]||0).target;n&&!I(n,e.handle);)n=n!==i?n.parentElement:null;return n||null},nt.prototype._resolveStartPredicate=function(t){var e,i,n,o,s,r=this._startPredicateData,a=t.changedPointers[0],l=a&&a.pageX||0,h=a&&a.pageY||0;if(!(t.distance<r.distance||r.delay))return i=(e=r.handleElement.getBoundingClientRect()).left+(window.pageXOffset||0),n=e.top+(window.pageYOffset||0),o=e.width,s=e.height,this._resetStartPredicate(),o&&s&&l>=i&&l<i+o&&h>=n&&h<n+s},nt.prototype._finishStartPredicate=function(t){var e=this._item._element;this._resetStartPredicate(),function(t){return Math.abs(t.deltaX)<2&&Math.abs(t.deltaY)<2&&t.deltaTime<200}(t)&&function(t){if("a"!==t.tagName.toLowerCase())return;var e=t.getAttribute("href");if(!e)return;var i=t.getAttribute("target");i&&"_self"!==i?window.open(e,i):window.location.href=e}(e)},nt.prototype._resetStartPredicate=function(){var t=this._startPredicateData;t&&(t.delayTimer&&(t.delayTimer=window.clearTimeout(t.delayTimer)),this._startPredicateData=null)},nt.prototype._checkOverlap=function(){if(this._isActive){var t,e,i,n,o,s,r,a=this._item,l=this._getGrid()._settings;(t="function"==typeof l.dragSortPredicate?l.dragSortPredicate(a,this._lastEvent):nt.defaultSortPredicate(a,l.dragSortPredicate))&&"number"==typeof t.index&&(r=(e=a.getGrid())!==(n=t.grid||e),i=e._items.indexOf(a),o=A(n._items,t.index,r),s="swap"===t.action?"swap":"move",r?(e._hasListeners("beforeSend")&&e._emit("beforeSend",{item:a,fromGrid:e,fromIndex:i,toGrid:n,toIndex:o}),n._hasListeners("beforeReceive")&&n._emit("beforeReceive",{item:a,fromGrid:e,fromIndex:i,toGrid:n,toIndex:o}),a._gridId=n._id,this._isMigrating=a._gridId!==this._gridId,e._items.splice(i,1),U(n._items,a,o),a._sortData=null,e._hasListeners("send")&&e._emit("send",{item:a,fromGrid:e,fromIndex:i,toGrid:n,toIndex:o}),n._hasListeners("receive")&&n._emit("receive",{item:a,fromGrid:e,fromIndex:i,toGrid:n,toIndex:o}),e.layout(),n.layout()):i!==o&&(("swap"===s?M:R)(e._items,i,o),e._hasListeners("move")&&e._emit("move",{item:a,fromIndex:i,toIndex:o,action:s}),e.layout()))}},nt.prototype._finishMigration=function(){var t,e,i=this._item,n=i._release,o=i._element,s=i._isActive,r=i.getGrid(),l=r._element,h=r._settings,u=h.dragContainer||l,c=this._getGrid()._settings,p=o.parentNode;this._isMigrating=!1,this.destroy(),$(o,c.itemClass),$(o,c.itemVisibleClass),$(o,c.itemHiddenClass),E(o,h.itemClass),E(o,s?h.itemVisibleClass:h.itemHiddenClass),u!==p&&(u.appendChild(o),e=X(p,u,!0),(t=Z(o)).x-=e.left,t.y-=e.top),i._refreshDimensions(),i._refreshSortData(),e=X(u,l,!0),n._containerDiffX=e.left,n._containerDiffY=e.top,i._drag=h.dragEnabled?new nt(i):null,u!==p&&(o.style[a]=W(t.x,t.y)),i._child.removeAttribute("style"),d(i._child,s?h.visibleStyles:h.hiddenStyles),n.start()},nt.prototype._onStart=function(t){var e=this._item;if(e._isActive){var i,n=e._element,o=this._getGrid(),s=o._settings,r=e._release,l=e._migrate,h=o._element,u=s.dragContainer||h,c=F(u,!0),d=Z(n),p=d.x,f=d.y,m=n.getBoundingClientRect(),_=u!==h;_&&(i=X(c,h)),e.isPositioning()&&e._layout.stop(!0,{transform:W(p,f)}),l._isActive&&(p-=l._containerDiffX,f-=l._containerDiffY,l.stop(!0,{transform:W(p,f)})),e.isReleasing()&&r._reset(),this._isActive=!0,this._lastEvent=t,this._container=u,this._containingBlock=c,this._elementClientX=m.left,this._elementClientY=m.top,this._left=this._gridX=p,this._top=this._gridY=f,o._emit("dragInit",e,t),_&&(this._containerDiffX=i.left,this._containerDiffY=i.top,n.parentNode===u?(this._gridX=p-this._containerDiffX,this._gridY=f-this._containerDiffY):(this._left=p+this._containerDiffX,this._top=f+this._containerDiffY,u.appendChild(n),n.style[a]=W(this._left,this._top))),E(n,s.itemDraggingClass),this._bindScrollListeners(),o._emit("dragStart",e,t)}},nt.prototype._onMove=function(t){var e=this._item;if(e._isActive){var i,n,o,s=this._getGrid()._settings.dragAxis,r=t.deltaX-this._lastEvent.deltaX,a=t.deltaY-this._lastEvent.deltaY;this._lastEvent=t,"y"!==s&&(this._left+=r,this._gridX+=r,this._elementClientX+=r),"x"!==s&&(this._top+=a,this._gridY+=a,this._elementClientY+=a),i=e._id,n=this._prepareMove,o=this._applyMove,_.add(i+y,n,o,!0)}else this.stop()},nt.prototype._prepareMove=function(){this._item._isActive&&this._getGrid()._settings.dragSort&&this._checkOverlapDebounce()},nt.prototype._applyMove=function(){var t=this._item;t._isActive&&(t._element.style[a]=W(this._left,this._top),this._getGrid()._emit("dragMove",t,this._lastEvent))},nt.prototype._onScroll=function(t){var e,i,n,o=this._item;o._isActive?(this._lastScrollEvent=t,e=o._id,i=this._prepareScroll,n=this._applyScroll,_.add(e+w,i,n,!0)):this.stop()},nt.prototype._prepareScroll=function(){var t=this._item;if(t._isActive){var e,i=t._element,n=this._getGrid(),o=n._settings,s=o.dragAxis,r=n._element,a=i.getBoundingClientRect(),l=this._elementClientX-a.left,h=this._elementClientY-a.top;this._container!==r&&(e=X(this._containingBlock,r),this._containerDiffX=e.left,this._containerDiffY=e.top),"y"!==s&&(this._left+=l,this._gridX=this._left-this._containerDiffX),"x"!==s&&(this._top+=h,this._gridY=this._top-this._containerDiffY),o.dragSort&&this._checkOverlapDebounce()}},nt.prototype._applyScroll=function(){var t=this._item;t._isActive&&(t._element.style[a]=W(this._left,this._top),this._getGrid()._emit("dragScroll",t,this._lastScrollEvent))},nt.prototype._onEnd=function(t){var e=this._item,i=e._element,n=this._getGrid(),o=n._settings,s=e._release;e._isActive?(D(e._id),T(e._id),o.dragSort&&this._checkOverlapDebounce("finish"),this._unbindScrollListeners(),s._containerDiffX=this._containerDiffX,s._containerDiffY=this._containerDiffY,this._reset(),$(i,o.itemDraggingClass),n._emit("dragEnd",e,t),this._isMigrating?this._finishMigration():s.start()):this.stop()},ht.prototype.add=function(t){return this._isDestroyed?this:(this._queue.push(t),this)},ht.prototype.flush=function(t,e){if(this._isDestroyed)return this;var i,n=this._queue,o=n.length;if(!o)return this;var s=1===o,r=s?n[0]:n.slice(0);if(n.length=0,s)return r(t,e),this;for(i=0;i<o&&(r[i](t,e),!this._isDestroyed);i++);return this},ht.prototype.destroy=function(){return this._isDestroyed?this:(this._isDestroyed=!0,this._queue.length=0,this)},ut.prototype.start=function(t,e){if(!this._isDestroyed){var i,n,o,s,r=this._item,a=r._element,l=r._release,h=r.getGrid()._settings,u=this._isActive,c=l._isActive&&!1===l._isPositioningStarted,p=c?h.dragReleaseDuration:h.layoutDuration,f=c?h.dragReleaseEasing:h.layoutEasing,m=!t&&!this._skipNextAnimation&&p>0;return u&&this._queue.flush(!0,r),c&&(l._isPositioningStarted=!0),"function"==typeof e&&this._queue.add(e),m?(this._isActive=!0,this._animateOptions.easing=f,this._animateOptions.duration=p,this._isInterrupted=u,n=r._id,o=this._setupAnimation,s=this._startAnimation,_.add(n+g,o,s),this):(this._updateOffsets(),this._updateTargetStyles(),u&&x(r._id),i=r._animate.isAnimating(),this.stop(!1,this._targetStyles),!i&&d(a,this._targetStyles),this._skipNextAnimation=!1,this._finish())}},ut.prototype.stop=function(t,e){if(this._isDestroyed||!this._isActive)return this;var i=this._item;return x(i._id),i._animate.stop(e),$(i._element,i.getGrid()._settings.itemPositioningClass),this._isActive=!1,t&&this._queue.flush(!0,i),this},ut.prototype.destroy=function(){return this._isDestroyed?this:(this.stop(!0,{}),this._queue.destroy(),this._item=this._currentStyles=this._targetStyles=this._animateOptions=null,this._isDestroyed=!0,this)},ut.prototype._updateOffsets=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._release;this._offsetLeft=i._isActive?i._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=i._isActive?i._containerDiffY:e._isActive?e._containerDiffY:0}},ut.prototype._updateTargetStyles=function(){if(!this._isDestroyed){var t=this._item;this._targetStyles.transform=W(t._left+this._offsetLeft,t._top+this._offsetTop)}},ut.prototype._finish=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._release;this._isActive&&(this._isActive=!1,$(t._element,t.getGrid()._settings.itemPositioningClass)),i._isActive&&i.stop(),e._isActive&&e.stop(),this._queue.flush(!1,t)}},ut.prototype._setupAnimation=function(){var t=Z(this._item._element);this._currentLeft=t.x,this._currentTop=t.y},ut.prototype._startAnimation=function(){var t=this._item,e=t._element,i=t.getGrid()._settings;if(this._updateOffsets(),this._updateTargetStyles(),t._left===this._currentLeft-this._offsetLeft&&t._top===this._currentTop-this._offsetTop)return this._isInterrupted&&this.stop(!1,this._targetStyles),this._isActive=!1,void this._finish();!this._isInterrupted&&E(e,i.itemPositioningClass),this._currentStyles.transform=W(this._currentLeft,this._currentTop),t._animate.start(this._currentStyles,this._targetStyles,this._animateOptions)};var ct={};function dt(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}dt.prototype.start=function(t,e,i){if(this._isDestroyed)return this;var n,o,s,r,l,h,u,c,p=this._item,f=p._element,m=p.isVisible(),_=p.getGrid(),g=_._settings,v=t._settings,y=t._element,w=t._items,x=_._items.indexOf(p),b=i||document.body;if("number"==typeof e)n=A(w,e,!0);else{if(!(o=t._getItem(e)))return this;n=w.indexOf(o)}return(p.isPositioning()||this._isActive||p.isReleasing())&&(u=(h=Z(f)).x,c=h.y),p.isPositioning()&&p._layout.stop(!0,{transform:W(u,c)}),this._isActive&&(u-=this._containerDiffX,c-=this._containerDiffY,this.stop(!0,{transform:W(u,c)})),p.isReleasing()&&(u-=p._release._containerDiffX,c-=p._release._containerDiffY,p._release.stop(!0,{transform:W(u,c)})),p._visibility._stopAnimation(),p._drag&&p._drag.destroy(),p._visibility._queue.flush(!0,p),_._hasListeners("beforeSend")&&_._emit("beforeSend",{item:p,fromGrid:_,fromIndex:x,toGrid:t,toIndex:n}),t._hasListeners("beforeReceive")&&t._emit("beforeReceive",{item:p,fromGrid:_,fromIndex:x,toGrid:t,toIndex:n}),$(f,g.itemClass),$(f,g.itemVisibleClass),$(f,g.itemHiddenClass),E(f,v.itemClass),E(f,m?v.itemVisibleClass:v.itemHiddenClass),_._items.splice(x,1),U(w,p,n),p._gridId=t._id,b!==(s=f.parentNode)&&(b.appendChild(f),r=X(b,s,!0),h||(u=(h=Z(f)).x,c=h.y),f.style[a]=W(u+r.left,c+r.top)),p._child.removeAttribute("style"),d(p._child,m?v.visibleStyles:v.hiddenStyles),f.style.display=m?"block":"hidden",l=X(b,y,!0),p._refreshDimensions(),p._refreshSortData(),p._drag=v.dragEnabled?new nt(p):null,this._isActive=!0,this._container=b,this._containerDiffX=l.left,this._containerDiffY=l.top,_._hasListeners("send")&&_._emit("send",{item:p,fromGrid:_,fromIndex:x,toGrid:t,toIndex:n}),t._hasListeners("receive")&&t._emit("receive",{item:p,fromGrid:_,fromIndex:x,toGrid:t,toIndex:n}),this},dt.prototype.stop=function(t,e){if(this._isDestroyed||!this._isActive)return this;var i,n=this._item,o=n._element,s=n.getGrid()._element;return this._container!==s&&(e||(t?(i=Z(o),ct.transform=W(i.x-this._containerDiffX,i.y-this._containerDiffY)):ct.transform=W(n._left,n._top),e=ct),s.appendChild(o),d(o,e)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0,this},dt.prototype.destroy=function(){return this._isDestroyed?this:(this.stop(!0),this._item=null,this._isDestroyed=!0,this)};var pt={};function ft(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}function mt(t){var e=t._isActive,i=t._element,n=t.getGrid()._settings;this._item=t,this._isDestroyed=!1,this._isHidden=!e,this._isHiding=!1,this._isShowing=!1,this._queue=new ht,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),i.style.display=e?"block":"none",E(i,e?n.itemVisibleClass:n.itemHiddenClass),d(t._child,e?n.visibleStyles:n.hiddenStyles)}ft.prototype.start=function(){if(this._isDestroyed||this._isActive)return this;var t=this._item,e=t.getGrid();return this._isActive=!0,E(t._element,e._settings.itemReleasingClass),e._emit("dragReleaseStart",t),t._layout.start(!1),this},ft.prototype.stop=function(t,e){if(this._isDestroyed||!this._isActive)return this;var i,n=this._item,o=n._element,s=n.getGrid(),r=s._element;return this._reset(),o.parentNode!==r&&(e||(t?(i=Z(o),pt.transform=W(i.x-this._containerDiffX,i.y-this._containerDiffY)):pt.transform=W(n._left,n._top),e=pt),r.appendChild(o),d(o,e)),t||s._emit("dragReleaseEnd",n),this},ft.prototype.destroy=function(){return this._isDestroyed?this:(this.stop(!0),this._item=null,this._isDestroyed=!0,this)},ft.prototype._reset=function(){if(!this._isDestroyed){var t=this._item;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,$(t._element,t.getGrid()._settings.itemReleasingClass)}},mt.prototype.show=function(t,e){if(this._isDestroyed)return this;var i=this._item,n=i._element,o=this._queue,s="function"==typeof e?e:null,r=i.getGrid()._settings;return this._isShowing||this._isHidden?this._isShowing&&!t?(s&&o.add(s),this):(this._isShowing||(o.flush(!0,i),$(n,r.itemHiddenClass),E(n,r.itemVisibleClass),this._isHiding||(n.style.display="block")),s&&o.add(s),i._isActive=this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,t,this._finishShow),this):(s&&s(!1,i),this)},mt.prototype.hide=function(t,e){if(this._isDestroyed)return this;var i=this._item,n=i._element,o=this._queue,s="function"==typeof e?e:null,r=i.getGrid()._settings;return!this._isHiding&&this._isHidden?(s&&s(!1,i),this):this._isHiding&&!t?(s&&o.add(s),this):(this._isHiding||(o.flush(!0,i),E(n,r.itemHiddenClass),$(n,r.itemVisibleClass)),s&&o.add(s),this._isHidden=this._isHiding=!0,i._isActive=this._isShowing=!1,this._startAnimation(!1,t,this._finishHide),this)},mt.prototype.destroy=function(){if(this._isDestroyed)return this;var t=this._item,e=t._element,i=t.getGrid(),n=this._queue,o=i._settings;return this._stopAnimation({}),n.flush(!0,t).destroy(),$(e,o.itemVisibleClass),$(e,o.itemHiddenClass),this._item=null,this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0,this},mt.prototype._startAnimation=function(t,e,i){if(!this._isDestroyed){var n,o=this._item,s=o.getGrid()._settings,r=t?s.visibleStyles:s.hiddenStyles,a=parseInt(t?s.showDuration:s.hideDuration)||0,l=(t?s.showEasing:s.hideEasing)||"ease",u=e||a<=0;if(r){if(b(o._id),u)return o._animateChild.isAnimating()?o._animateChild.stop(r):d(o._child,r),void(i&&i());var p,f,m;p=o._id,f=function(){n=function(t,e){var i={};for(var n in e)i[n]=h(t,c(n));return i}(o._child,r)},m=function(){o._animateChild.start(n,r,{duration:a,easing:l,onFinish:i})},_.add(p+v,f,m)}else i&&i()}},mt.prototype._stopAnimation=function(t){if(!this._isDestroyed){var e=this._item;b(e._id),e._animateChild.stop(t)}},mt.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._queue.flush(!1,this._item))};var _t={};mt.prototype._finishHide=function(){if(this._isHidden){var t=this._item;this._isHiding=!1,_t.transform=W(0,0),t._layout.stop(!0,_t),t._element.style.display="none",this._queue.flush(!1,t)}};var gt,vt,yt,wt,xt=0;function bt(){return++xt}function Dt(t,e,i){var n=t._settings;this._id=bt(),this._gridId=t._id,this._isDestroyed=!1,this._left=0,this._top=0,this._element=e,this._child=e.children[0],e.parentNode!==t._element&&t._element.appendChild(e),E(e,n.itemClass),"boolean"!=typeof i&&(i="none"!==h(e,"display")),this._isActive=i,e.style.left="0",e.style.top="0",e.style[a]=W(0,0),this._animate=new p(e),this._animateChild=new p(this._child),this._visibility=new mt(this),this._layout=new ut(this),this._migrate=new dt(this),this._release=new ft(this),this._drag=n.dragEnabled?new nt(this):null,this._refreshDimensions(),this._refreshSortData()}function Tt(){this._slots=[],this._slotSizes=[],this._freeSlots=[],this._newSlots=[],this._rectItem={},this._rectStore=[],this._rectId=0,this._layout={slots:null,setWidth:!1,setHeight:!1,width:!1,height:!1},this._sortRectsLeftTop=this._sortRectsLeftTop.bind(this),this._sortRectsTopLeft=this._sortRectsTopLeft.bind(this)}Dt.prototype.getGrid=function(){return i[this._gridId]},Dt.prototype.getElement=function(){return this._element},Dt.prototype.getWidth=function(){return this._width},Dt.prototype.getHeight=function(){return this._height},Dt.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}},Dt.prototype.getPosition=function(){return{left:this._left,top:this._top}},Dt.prototype.isActive=function(){return this._isActive},Dt.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden},Dt.prototype.isShowing=function(){return!(!this._visibility||!this._visibility._isShowing)},Dt.prototype.isHiding=function(){return!(!this._visibility||!this._visibility._isHiding)},Dt.prototype.isPositioning=function(){return!(!this._layout||!this._layout._isActive)},Dt.prototype.isDragging=function(){return!(!this._drag||!this._drag._isActive)},Dt.prototype.isReleasing=function(){return!(!this._release||!this._release._isActive)},Dt.prototype.isDestroyed=function(){return this._isDestroyed},Dt.prototype._refreshDimensions=function(){if(!this._isDestroyed&&!this._visibility._isHidden){var t=this._element,e=t.getBoundingClientRect();this._width=e.width,this._height=e.height,this._marginLeft=Math.max(0,z(t,"margin-left")),this._marginRight=Math.max(0,z(t,"margin-right")),this._marginTop=Math.max(0,z(t,"margin-top")),this._marginBottom=Math.max(0,z(t,"margin-bottom"))}},Dt.prototype._refreshSortData=function(){if(!this._isDestroyed){var t,e=this._sortData={},i=this.getGrid()._settings.sortData;for(t in i)e[t]=i[t](this,this._element)}},Dt.prototype._destroy=function(t){if(!this._isDestroyed){var e=this._element,i=this.getGrid(),n=i._settings,o=i._items.indexOf(this);this._release.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._animate.destroy(),this._animateChild.destroy(),this._drag&&this._drag.destroy(),e.removeAttribute("style"),this._child.removeAttribute("style"),$(e,n.itemClass),o>-1&&i._items.splice(o,1),t&&e.parentNode.removeChild(e),this._isActive=!1,this._isDestroyed=!0}},Tt.prototype.getLayout=function(t,e,i,n,o){var s,r=this._layout,a=!(!o||!o.fillGaps),l=!(!o||!o.horizontal),h=!(!o||!o.alignRight),u=!(!o||!o.alignBottom),c=!(!o||!o.rounding),d=this._slotSizes;if(r.slots=n||this._slots,r.width=l?0:c?Math.round(e):e,r.height=l?c?Math.round(i):i:0,r.setWidth=l,r.setHeight=!l,r.slots.length=0,d.length=0,!t.length)return r;for(s=0;s<t.length;s++)this._addSlot(t[s],l,a,c,h||u);if(h)for(s=0;s<r.slots.length;s+=2)r.slots[s]=r.width-(r.slots[s]+d[s]);if(u)for(s=1;s<r.slots.length;s+=2)r.slots[s]=r.height-(r.slots[s]+d[s]);return d.length=0,this._freeSlots.length=0,this._newSlots.length=0,this._rectId=0,r},Tt.prototype._addSlot=(gt={},function(t,e,i,n,o){var s,r,a,l,h,u,c=this._layout,d=this._freeSlots,p=this._newSlots;for(p.length=0,gt.left=null,gt.top=null,gt.width=t._width+t._marginLeft+t._marginRight,gt.height=t._height+t._marginTop+t._marginBottom,n&&(gt.width=Math.round(gt.width),gt.height=Math.round(gt.height)),h=0;h<d.length;h++)if((r=d[h])&&(s=this._getRect(r),gt.width<=s.width+.001&&gt.height<=s.height+.001)){gt.left=s.left,gt.top=s.top;break}for(null===gt.left&&(gt.left=e?c.width:0,gt.top=e?0:c.height,i||(l=!0)),!e&&gt.top+gt.height>c.height&&(gt.left>0&&p.push(this._addRect(0,c.height,gt.left,1/0)),gt.left+gt.width<c.width&&p.push(this._addRect(gt.left+gt.width,c.height,c.width-gt.left-gt.width,1/0)),c.height=gt.top+gt.height),e&&gt.left+gt.width>c.width&&(gt.top>0&&p.push(this._addRect(c.width,0,1/0,gt.top)),gt.top+gt.height<c.height&&p.push(this._addRect(c.width,gt.top+gt.height,1/0,c.height-gt.top-gt.height)),c.width=gt.left+gt.width),h=i?0:l?d.length:h;h<d.length;h++)if(r=d[h])for(s=this._getRect(r),a=this._splitRect(s,gt),u=0;u<a.length;u++)r=a[u],(s=this._getRect(r)).width>.49&&s.height>.49&&(!e&&s.top<c.height||e&&s.left<c.width)&&p.push(r);p.length&&this._purgeRects(p).sort(e?this._sortRectsLeftTop:this._sortRectsTopLeft),e?c.width=Math.max(c.width,gt.left+gt.width):c.height=Math.max(c.height,gt.top+gt.height),c.slots.push(gt.left,gt.top),o&&this._slotSizes.push(gt.width,gt.height),this._freeSlots=p,this._newSlots=d}),Tt.prototype._addRect=function(t,e,i,n){var o=++this._rectId,s=this._rectStore;return s[o]=t||0,s[++this._rectId]=e||0,s[++this._rectId]=i||0,s[++this._rectId]=n||0,o},Tt.prototype._getRect=function(t,e){var i=e||this._rectItem,n=this._rectStore;return i.left=n[t]||0,i.top=n[++t]||0,i.width=n[++t]||0,i.height=n[++t]||0,i},Tt.prototype._splitRect=(vt=[],function(t,e){return vt.length=0,this._doRectsOverlap(t,e)?(t.left<e.left&&vt.push(this._addRect(t.left,t.top,e.left-t.left,t.height)),t.left+t.width>e.left+e.width&&vt.push(this._addRect(e.left+e.width,t.top,t.left+t.width-(e.left+e.width),t.height)),t.top<e.top&&vt.push(this._addRect(t.left,t.top,t.width,e.top-t.top)),t.top+t.height>e.top+e.height&&vt.push(this._addRect(t.left,e.top+e.height,t.width,t.top+t.height-(e.top+e.height))),vt):(vt.push(this._addRect(t.left,t.top,t.width,t.height)),vt)}),Tt.prototype._doRectsOverlap=function(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)},Tt.prototype._isRectWithinRect=function(t,e){return t.left>=e.left&&t.top>=e.top&&t.left+t.width<=e.left+e.width&&t.top+t.height<=e.top+e.height},Tt.prototype._purgeRects=(yt={},wt={},function(t){for(var e,i=t.length;i--;)if(e=t.length,t[i])for(this._getRect(t[i],yt);e--;)if(t[e]&&i!==e&&this._isRectWithinRect(yt,this._getRect(t[e],wt))){t[i]=0;break}return t}),Tt.prototype._sortRectsTopLeft=function(){var t={},e={};return function(i,n){return this._getRect(i,t),this._getRect(n,e),t.top<e.top?-1:t.top>e.top?1:t.left<e.left?-1:t.left>e.left?1:0}}(),Tt.prototype._sortRectsLeftTop=function(){var t={},e={};return function(i,n){return this._getRect(i,t),this._getRect(n,e),t.left<e.left?-1:t.left>e.left?1:t.top<e.top?-1:t.top>e.top?1:0}}();var St="[object HTMLCollection]",Ct="[object NodeList]";function It(t){var e=Object.prototype.toString.call(t);return e===St||e===Ct}function Et(t){return It(t)?Array.prototype.slice.call(t):Array.prototype.concat(t)}var At=new Tt,Rt=function(){};function Mt(t,e){var n,s,r,a=this;if(t=this._element="string"==typeof t?document.querySelector(t):t,!document.body.contains(t))throw new Error("Container element must be an existing DOM element");"function"!=typeof(n=this._settings=function(t,e){var i=Ot({},t);e&&(i=Ot(i,e));return i.visibleStyles=(e||0).visibleStyles||(t||0).visibleStyles,i.hiddenStyles=(e||0).hiddenStyles||(t||0).hiddenStyles,i}(Mt.defaultOptions,e)).dragSort&&(n.dragSort=!!n.dragSort),this._id=bt(),i[this._id]=a,this._isDestroyed=!1,this._layout={id:0,items:[],slots:[],setWidth:!1,setHeight:!1,width:0,height:0},this._emitter=new o,E(t,n.containerClass),this._items=[],"string"==typeof(s=n.items)?Et(t.children).forEach(function(t){("*"===s||I(t,s))&&a._items.push(new Dt(a,t))}):(Array.isArray(s)||It(s))&&(this._items=Et(s).map(function(t){return new Dt(a,t)})),"number"!=typeof(r=n.layoutOnResize)&&(r=!0===r?0:-1),r>=0&&window.addEventListener("resize",a._resizeHandler=P(function(){a.refreshItems().layout()},r)),n.layoutOnInit&&this.layout(!0)}function Ot(t,e){var i,n,o,s=Object.keys(e),r=s.length;for(o=0;o<r;o++)i=j(e[n=s[o]]),j(t[n])&&i?t[n]=Ot(Ot({},t[n]),e[n]):i?t[n]=Ot({},e[n]):Array.isArray(e[n])?t[n]=e[n].slice(0):t[n]=e[n];return t}return Mt.Item=Dt,Mt.ItemLayout=ut,Mt.ItemVisibility=mt,Mt.ItemRelease=ft,Mt.ItemMigrate=dt,Mt.ItemAnimate=p,Mt.ItemDrag=nt,Mt.Emitter=o,Mt.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!0},layoutOnResize:100,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragStartPredicate:{distance:0,delay:0,handle:!1},dragAxis:null,dragSort:!0,dragSortInterval:100,dragSortPredicate:{threshold:50,action:"move"},dragReleaseDuration:300,dragReleaseEasing:"ease",dragHammerSettings:{touchAction:"none"},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing"},Mt.prototype.on=function(t,e){return this._emitter.on(t,e),this},Mt.prototype.once=function(t,e){return this._emitter.once(t,e),this},Mt.prototype.off=function(t,e){return this._emitter.off(t,e),this},Mt.prototype.getElement=function(){return this._element},Mt.prototype.getItems=function(t){if(this._isDestroyed||!t&&0!==t)return this._items.slice(0);var e,i,n=[],o=Et(t);for(i=0;i<o.length;i++)(e=this._getItem(o[i]))&&n.push(e);return n},Mt.prototype.refreshItems=function(t){if(this._isDestroyed)return this;var e,i=this.getItems(t);for(e=0;e<i.length;e++)i[e]._refreshDimensions();return this},Mt.prototype.refreshSortData=function(t){if(this._isDestroyed)return this;var e,i=this.getItems(t);for(e=0;e<i.length;e++)i[e]._refreshSortData();return this},Mt.prototype.synchronize=function(){if(this._isDestroyed)return this;var t,e,i,n=this._element,o=this._items;if(o.length){for(i=0;i<o.length;i++)(e=o[i]._element).parentNode===n&&(t=t||document.createDocumentFragment()).appendChild(e);t&&n.appendChild(t)}return this._emit("synchronize"),this},Mt.prototype.layout=function(t,e){if(this._isDestroyed)return this;var i,o,s,r=this,a=this._element,l=this._updateLayout(),u=l.id,c=l.items.length,d=c,p="function"==typeof t?t:e,f="function"==typeof p,m=f?l.items.slice(0):null;function _(){if(!(--d>0)){var t=r._layout.id!==u;f&&p(t,m),!t&&r._hasListeners(n)&&r._emit(n,l.items.slice(0))}}if((l.setHeight&&"number"==typeof l.height||l.setWidth&&"number"==typeof l.width)&&(i="border-box"===h(a,"box-sizing")),l.setHeight&&("number"==typeof l.height?a.style.height=(i?l.height+this._borderTop+this._borderBottom:l.height)+"px":a.style.height=l.height),l.setWidth&&("number"==typeof l.width?a.style.width=(i?l.width+this._borderLeft+this._borderRight:l.width)+"px":a.style.width=l.width),this._hasListeners("layoutStart")&&this._emit("layoutStart",l.items.slice(0)),!c)return _(),this;for(s=0;s<c;s++)(o=l.items[s])&&(o._left=l.slots[2*s],o._top=l.slots[2*s+1],o.isDragging()?_():o._layout.start(!0===t,_));return this},Mt.prototype.add=function(t,e){if(this._isDestroyed||!t)return[];var i=Et(t);if(!i.length)return i;var n,o,s=e||0,r=s.layout?s.layout:void 0===s.layout,a=this._items,l=!1;for(o=0;o<i.length;o++)n=new Dt(this,i[o],s.isActive),i[o]=n,n._isActive&&(l=!0,n._layout._skipNextAnimation=!0);return U(a,i,s.index),this._hasListeners("add")&&this._emit("add",i.slice(0)),l&&r&&this.layout("instant"===r,"function"==typeof r?r:void 0),i},Mt.prototype.remove=function(t,e){if(this._isDestroyed)return this;var i,n,o=e||0,s=o.layout?o.layout:void 0===o.layout,r=!1,a=this.getItems(),l=this.getItems(t),h=[];for(n=0;n<l.length;n++)i=l[n],h.push(a.indexOf(i)),i._isActive&&(r=!0),i._destroy(o.removeElements);return this._hasListeners("remove")&&this._emit("remove",l.slice(0),h),r&&s&&this.layout("instant"===s,"function"==typeof s?s:void 0),l},Mt.prototype.show=function(t,e){return this._isDestroyed?this:(this._setItemsVisibility(t,!0,e),this)},Mt.prototype.hide=function(t,e){return this._isDestroyed?this:(this._setItemsVisibility(t,!1,e),this)},Mt.prototype.filter=function(t,e){if(this._isDestroyed||!this._items.length)return this;var i,n,o=[],s=[],r="string"==typeof t,a="function"==typeof t,l=e||0,h=!0===l.instant,u=l.layout?l.layout:void 0===l.layout,c="function"==typeof l.onFinish?l.onFinish:null,d=-1,p=Rt;if(c&&(p=function(){++d&&c(o.slice(0),s.slice(0))}),a||r)for(n=0;n<this._items.length;n++)i=this._items[n],(a?t(i):I(i._element,t))?o.push(i):s.push(i);return o.length?this.show(o,{instant:h,onFinish:p,layout:!1}):p(),s.length?this.hide(s,{instant:h,onFinish:p,layout:!1}):p(),(o.length||s.length)&&(this._hasListeners("filter")&&this._emit("filter",o.slice(0),s.slice(0)),u&&this.layout("instant"===u,"function"==typeof u?u:void 0)),this},Mt.prototype.sort=function(){var t,i,n,o;function s(t){for(var e={},i=0;i<t.length;i++)e[t[i]._id]=i;return e}function r(t,e){var n=o[t._id],s=o[e._id];return i?s-n:n-s}function a(e,a){for(var l,h,u,c,d=0,p=0;p<t.length;p++)if(l=t[p][0],h=t[p][1],u=(e._sortData?e:e._refreshSortData())._sortData[l],c=(a._sortData?a:a._refreshSortData())._sortData[l],d="desc"===h||!h&&i?c<u?-1:c>u?1:0:u<c?-1:u>c?1:0)return d;return d||(o||(o=s(n)),d=r(e,a)),d}function l(e,a){var l=t(e,a);return i&&l&&(l=-l),l||(o||(o=s(n)),r(e,a))}return function(s,r){if(this._isDestroyed||this._items.length<2)return this;var h,u=this._items,c=r||0,d=c.layout?c.layout:void 0===c.layout;if(t=s,i=!!c.descending,n=u.slice(0),o=null,"function"==typeof t)u.sort(l);else if("string"==typeof t)t=s.trim().split(" ").map(function(t){return t.split(":")}),u.sort(a);else{if(!Array.isArray(t))return this;if(t.length!==u.length)throw new Error("["+e+"] sort reference items do not match with grid items.");for(h=0;h<u.length;h++){if(t.indexOf(u[h])<0)throw new Error("["+e+"] sort reference items do not match with grid items.");u[h]=t[h]}i&&u.reverse()}return this._hasListeners("sort")&&this._emit("sort",u.slice(0),n),d&&this.layout("instant"===d,"function"==typeof d?d:void 0),this}}(),Mt.prototype.move=function(t,e,i){if(this._isDestroyed||this._items.length<2)return this;var n,o,s=this._items,r=i||0,a=r.layout?r.layout:void 0===r.layout,l="swap"===r.action,h=l?"swap":"move",u=this._getItem(t),c=this._getItem(e);return u&&c&&u!==c&&(n=s.indexOf(u),o=s.indexOf(c),l?M(s,n,o):R(s,n,o),this._hasListeners("move")&&this._emit("move",{item:u,fromIndex:n,toIndex:o,action:h}),a&&this.layout("instant"===a,"function"==typeof a?a:void 0)),this},Mt.prototype.send=function(t,e,i,n){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(!(t=this._getItem(t)))return this;var o=n||0,s=o.appendTo||document.body,r=o.layoutSender?o.layoutSender:void 0===o.layoutSender,a=o.layoutReceiver?o.layoutReceiver:void 0===o.layoutReceiver;return t._migrate.start(e,i,s),t._migrate._isActive&&t._isActive&&(r&&this.layout("instant"===r,"function"==typeof r?r:void 0),a&&e.layout("instant"===a,"function"==typeof a?a:void 0)),this},Mt.prototype.destroy=function(t){if(this._isDestroyed)return this;var e,n=this._element,o=this._items.slice(0);for(this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler),e=0;e<o.length;e++)o[e]._destroy(t);return $(n,this._settings.containerClass),n.style.height="",n.style.width="",this._emit("destroy"),this._emitter.destroy(),i[this._id]=void 0,this._isDestroyed=!0,this},Mt.prototype._getItem=function(t){if(this._isDestroyed||!t&&0!==t)return null;if("number"==typeof t)return this._items[t>-1?t:this._items.length+t]||null;if(t instanceof Dt)return t._gridId===this._id?t:null;for(var e=0;e<this._items.length;e++)if(this._items[e]._element===t)return this._items[e];return null},Mt.prototype._updateLayout=function(){var t,e,i,n,o=this._layout,s=this._settings.layout;for(++o.id,o.items.length=0,n=0;n<this._items.length;n++)this._items[n]._isActive&&o.items.push(this._items[n]);return this._refreshDimensions(),t=this._width-this._borderLeft-this._borderRight,e=this._height-this._borderTop-this._borderBottom,i="function"==typeof s?s(o.items,t,e):At.getLayout(o.items,t,e,o.slots,s),o.slots=i.slots,o.setWidth=Boolean(i.setWidth),o.setHeight=Boolean(i.setHeight),o.width=i.width,o.height=i.height,o},Mt.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)},Mt.prototype._hasListeners=function(t){var e=this._emitter._events[t];return!(!e||!e.length)},Mt.prototype._updateBoundingRect=function(){var t=this._element.getBoundingClientRect();this._width=t.width,this._height=t.height,this._left=t.left,this._top=t.top},Mt.prototype._updateBorders=function(t,e,i,n){var o=this._element;t&&(this._borderLeft=z(o,"border-left-width")),e&&(this._borderRight=z(o,"border-right-width")),i&&(this._borderTop=z(o,"border-top-width")),n&&(this._borderBottom=z(o,"border-bottom-width"))},Mt.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1)},Mt.prototype._setItemsVisibility=function(t,e,i){var n,o,s=this,r=this.getItems(t),a=i||0,l=!0===a.instant,h=a.onFinish,u=a.layout?a.layout:void 0===a.layout,c=r.length,d=e?"showStart":"hideStart",p=e?"showEnd":"hideEnd",f=e?"show":"hide",m=!1,_=[],g=[];if(c){for(this._hasListeners(d)&&this._emit(d,r.slice(0)),o=0;o<r.length;o++)n=r[o],(e&&!n._isActive||!e&&n._isActive)&&(m=!0),e&&!n._isActive&&(n._layout._skipNextAnimation=!0),e&&n._visibility._isHidden&&g.push(n),n._visibility[f](l,function(t,e){t||_.push(e),--c<1&&("function"==typeof h&&h(_.slice(0)),s._hasListeners(p)&&s._emit(p,_.slice(0)))});g.length&&this.refreshItems(g),m&&u&&this.layout("instant"===u,"function"==typeof u?u:void 0)}else"function"==typeof h&&h(r)},Mt}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipe=e()}(this,function(){"use strict";return function(t,e,i,n){var o={features:null,bind:function(t,e,i,n){var o=(n?"remove":"add")+"EventListener";e=e.split(" ");for(var s=0;s<e.length;s++)e[s]&&t[o](e[s],i,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var i=document.createElement(e||"div");return t&&(i.className=t),i},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,i){o.bind(t,e,i,!0)},removeClass:function(t,e){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){o.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var i=t.firstChild;i;){if(o.hasClass(i,e))return i;i=i.nextSibling}},arraySearch:function(t,e,i){for(var n=t.length;n--;)if(t[n][i]===e)return n;return-1},extend:function(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&t.hasOwnProperty(n))continue;t[n]=e[n]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(o.features)return o.features;var t=o.createEl().style,e="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!i.pointerEvent){var n=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var s=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);s&&s.length>0&&(s=parseInt(s[1],10))>=1&&s<8&&(i.isOldIOSPhone=!0)}var r=n.match(/Android\s([0-9\.]*)/),a=r?r[1]:0;(a=parseFloat(a))>=1&&(a<4.4&&(i.isOldAndroid=!0),i.androidVersion=a),i.isMobileOpera=/opera mini|opera mobi/i.test(n)}for(var l,h,u=["transform","perspective","animationName"],c=["","webkit","Moz","ms","O"],d=0;d<4;d++){e=c[d];for(var p=0;p<3;p++)l=u[p],h=e+(e?l.charAt(0).toUpperCase()+l.slice(1):l),!i[l]&&h in t&&(i[l]=h);e&&!i.raf&&(e=e.toLowerCase(),i.raf=window[e+"RequestAnimationFrame"],i.raf&&(i.caf=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]))}if(!i.raf){var f=0;i.raf=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-f)),n=window.setTimeout(function(){t(e+i)},i);return f=e+i,n},i.caf=function(t){clearTimeout(t)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=i,i}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(t,e,i,n){e=e.split(" ");for(var o,s=(n?"detach":"attach")+"Event",r=function(){i.handleEvent.call(i)},a=0;a<e.length;a++)if(o=e[a])if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+o])return!1}else i["oldIE"+o]=r;t[s]("on"+o,i["oldIE"+o])}else t[s]("on"+o,i)});var s=this,r={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t?1:e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(r,n);var a,l,h,u,c,d,p,f,m,_,g,v,y,w,x,b,D,T,S,C,I,E,A,R,M,O,L,P,k,F,z,N,H,Y,G,X,q,Z,W,B,U,V,K,j,$,Q,J,tt,et,it,nt,ot,st,rt,at,lt,ht={x:0,y:0},ut={x:0,y:0},ct={x:0,y:0},dt={},pt=0,ft={},mt={x:0,y:0},_t=0,gt=!0,vt=[],yt={},wt=!1,xt=function(t,e){o.extend(s,e.publicMethods),vt.push(t)},bt=function(t){var e=Ge();return t>e-1?t-e:t<0?e+t:t},Dt={},Tt=function(t,e){return Dt[t]||(Dt[t]=[]),Dt[t].push(e)},St=function(t){var e=Dt[t];if(e){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<e.length;n++)e[n].apply(s,i)}},Ct=function(){return(new Date).getTime()},It=function(t){rt=t,s.bg.style.opacity=t*r.bgOpacity},Et=function(t,e,i,n,o){(!wt||o&&o!==s.currItem)&&(n/=o?o.fitRatio:s.currItem.fitRatio),t[E]=v+e+"px, "+i+"px"+y+" scale("+n+")"},At=function(t){et&&(t&&(_>s.currItem.fitRatio?wt||(je(s.currItem,!1,!0),wt=!0):wt&&(je(s.currItem),wt=!1)),Et(et,ct.x,ct.y,_))},Rt=function(t){t.container&&Et(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},Mt=function(t,e){e[E]=v+t+"px, 0px"+y},Ot=function(t,e){if(!r.loop&&e){var i=u+(mt.x*pt-t)/mt.x,n=Math.round(t-ue.x);(i<0&&n>0||i>=Ge()-1&&n<0)&&(t=ue.x+n*r.mainScrollEndFriction)}ue.x=t,Mt(t,c)},Lt=function(t,e){var i=ce[t]-ft[t];return ut[t]+ht[t]+i-i*(e/g)},Pt=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},kt=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},Ft=null,zt=function(){Ft&&(o.unbind(document,"mousemove",zt),o.addClass(t,"pswp--has_mouse"),r.mouseUsed=!0,St("mouseUsed")),Ft=setTimeout(function(){Ft=null},100)},Nt=function(t,e){var i=Be(s.currItem,dt,t);return e&&(tt=i),i},Ht=function(t){return t||(t=s.currItem),t.initialZoomLevel},Yt=function(t){return t||(t=s.currItem),t.w>0?r.maxSpreadZoom:1},Gt=function(t,e,i,n){return n===s.currItem.initialZoomLevel?(i[t]=s.currItem.initialPosition[t],!0):(i[t]=Lt(t,n),i[t]>e.min[t]?(i[t]=e.min[t],!0):i[t]<e.max[t]&&(i[t]=e.max[t],!0))},Xt=function(t){var e="";r.escKey&&27===t.keyCode?e="close":r.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,s[e]()))},qt=function(t){t&&(V||U||it||q)&&(t.preventDefault(),t.stopPropagation())},Zt=function(){s.setScrollOffset(0,o.getScrollY())},Wt={},Bt=0,Ut=function(t){Wt[t]&&(Wt[t].raf&&O(Wt[t].raf),Bt--,delete Wt[t])},Vt=function(t){Wt[t]&&Ut(t),Wt[t]||(Bt++,Wt[t]={})},Kt=function(){for(var t in Wt)Wt.hasOwnProperty(t)&&Ut(t)},jt=function(t,e,i,n,o,s,r){var a,l=Ct();Vt(t);var h=function(){if(Wt[t]){if((a=Ct()-l)>=n)return Ut(t),s(i),void(r&&r());s((i-e)*o(a/n)+e),Wt[t].raf=M(h)}};h()},$t={shout:St,listen:Tt,viewportSize:dt,options:r,isMainScrollAnimating:function(){return it},getZoomLevel:function(){return _},getCurrentIndex:function(){return u},isDragging:function(){return W},isZooming:function(){return Q},setScrollOffset:function(t,e){ft.x=t,F=ft.y=e,St("updateScrollOffset",ft)},applyZoomPan:function(t,e,i,n){ct.x=e,ct.y=i,_=t,At(n)},init:function(){if(!a&&!l){var i;s.framework=o,s.template=t,s.bg=o.getChildByClass(t,"pswp__bg"),L=t.className,a=!0,z=o.detectFeatures(),M=z.raf,O=z.caf,E=z.transform,k=z.oldIE,s.scrollWrap=o.getChildByClass(t,"pswp__scroll-wrap"),s.container=o.getChildByClass(s.scrollWrap,"pswp__container"),c=s.container.style,s.itemHolders=b=[{el:s.container.children[0],wrap:0,index:-1},{el:s.container.children[1],wrap:0,index:-1},{el:s.container.children[2],wrap:0,index:-1}],b[0].el.style.display=b[2].el.style.display="none",function(){if(E){var e=z.perspective&&!R;return v="translate"+(e?"3d(":"("),void(y=z.perspective?", 0px)":")")}E="left",o.addClass(t,"pswp--ie"),Mt=function(t,e){e.left=t+"px"},Rt=function(t){var e=t.fitRatio>1?1:t.fitRatio,i=t.container.style,n=e*t.w,o=e*t.h;i.width=n+"px",i.height=o+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},At=function(){if(et){var t=et,e=s.currItem,i=e.fitRatio>1?1:e.fitRatio,n=i*e.w,o=i*e.h;t.width=n+"px",t.height=o+"px",t.left=ct.x+"px",t.top=ct.y+"px"}}}(),m={resize:s.updateSize,orientationchange:function(){clearTimeout(N),N=setTimeout(function(){dt.x!==s.scrollWrap.clientWidth&&s.updateSize()},500)},scroll:Zt,keydown:Xt,click:qt};var n=z.isOldIOSPhone||z.isOldAndroid||z.isMobileOpera;for(z.animationName&&z.transform&&!n||(r.showAnimationDuration=r.hideAnimationDuration=0),i=0;i<vt.length;i++)s["init"+vt[i]]();e&&(s.ui=new e(s,o)).init(),St("firstUpdate"),u=u||r.index||0,(isNaN(u)||u<0||u>=Ge())&&(u=0),s.currItem=Ye(u),(z.isOldIOSPhone||z.isOldAndroid)&&(gt=!1),t.setAttribute("aria-hidden","false"),r.modal&&(gt?t.style.position="fixed":(t.style.position="absolute",t.style.top=o.getScrollY()+"px")),void 0===F&&(St("initialLayout"),F=P=o.getScrollY());var h="pswp--open ";for(r.mainClass&&(h+=r.mainClass+" "),r.showHideOpacity&&(h+="pswp--animate_opacity "),h+=R?"pswp--touch":"pswp--notouch",h+=z.animationName?" pswp--css_animation":"",h+=z.svg?" pswp--svg":"",o.addClass(t,h),s.updateSize(),d=-1,_t=null,i=0;i<3;i++)Mt((i+d)*mt.x,b[i].el.style);k||o.bind(s.scrollWrap,f,s),Tt("initialZoomInEnd",function(){s.setContent(b[0],u-1),s.setContent(b[2],u+1),b[0].el.style.display=b[2].el.style.display="block",r.focus&&t.focus(),o.bind(document,"keydown",s),z.transform&&o.bind(s.scrollWrap,"click",s),r.mouseUsed||o.bind(document,"mousemove",zt),o.bind(window,"resize scroll orientationchange",s),St("bindEvents")}),s.setContent(b[1],u),s.updateCurrItem(),St("afterInit"),gt||(w=setInterval(function(){Bt||W||Q||_!==s.currItem.initialZoomLevel||s.updateSize()},1e3)),o.addClass(t,"pswp--visible")}},close:function(){a&&(a=!1,l=!0,St("close"),o.unbind(window,"resize scroll orientationchange",s),o.unbind(window,"scroll",m.scroll),o.unbind(document,"keydown",s),o.unbind(document,"mousemove",zt),z.transform&&o.unbind(s.scrollWrap,"click",s),W&&o.unbind(window,p,s),clearTimeout(N),St("unbindEvents"),Xe(s.currItem,null,!0,s.destroy))},destroy:function(){St("destroy"),Fe&&clearTimeout(Fe),t.setAttribute("aria-hidden","true"),t.className=L,w&&clearInterval(w),o.unbind(s.scrollWrap,f,s),o.unbind(window,"scroll",s),fe(),Kt(),Dt=null},panTo:function(t,e,i){i||(t>tt.min.x?t=tt.min.x:t<tt.max.x&&(t=tt.max.x),e>tt.min.y?e=tt.min.y:e<tt.max.y&&(e=tt.max.y)),ct.x=t,ct.y=e,At()},handleEvent:function(t){t=t||window.event,m[t.type]&&m[t.type](t)},goTo:function(t){var e=(t=bt(t))-u;_t=e,u=t,s.currItem=Ye(u),pt-=e,Ot(mt.x*pt),Kt(),it=!1,s.updateCurrItem()},next:function(){s.goTo(u+1)},prev:function(){s.goTo(u-1)},updateCurrZoomItem:function(t){if(t&&St("beforeChange",0),b[1].el.children.length){var e=b[1].el.children[0];et=o.hasClass(e,"pswp__zoom-wrap")?e.style:null}else et=null;tt=s.currItem.bounds,g=_=s.currItem.initialZoomLevel,ct.x=tt.center.x,ct.y=tt.center.y,t&&St("afterChange")},invalidateCurrItems:function(){x=!0;for(var t=0;t<3;t++)b[t].item&&(b[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==_t){var e,i=Math.abs(_t);if(!(t&&i<2)){s.currItem=Ye(u),wt=!1,St("beforeChange",_t),i>=3&&(d+=_t+(_t>0?-3:3),i=3);for(var n=0;n<i;n++)_t>0?(e=b.shift(),b[2]=e,Mt((++d+2)*mt.x,e.el.style),s.setContent(e,u-i+n+1+1)):(e=b.pop(),b.unshift(e),Mt(--d*mt.x,e.el.style),s.setContent(e,u+i-n-1-1));if(et&&1===Math.abs(_t)){var o=Ye(D);o.initialZoomLevel!==_&&(Be(o,dt),je(o),Rt(o))}_t=0,s.updateCurrZoomItem(),D=u,St("afterChange")}}},updateSize:function(e){if(!gt&&r.modal){var i=o.getScrollY();if(F!==i&&(t.style.top=i+"px",F=i),!e&&yt.x===window.innerWidth&&yt.y===window.innerHeight)return;yt.x=window.innerWidth,yt.y=window.innerHeight,t.style.height=yt.y+"px"}if(dt.x=s.scrollWrap.clientWidth,dt.y=s.scrollWrap.clientHeight,Zt(),mt.x=dt.x+Math.round(dt.x*r.spacing),mt.y=dt.y,Ot(mt.x*pt),St("beforeResize"),void 0!==d){for(var n,a,l,h=0;h<3;h++)n=b[h],Mt((h+d)*mt.x,n.el.style),l=u+h-1,r.loop&&Ge()>2&&(l=bt(l)),(a=Ye(l))&&(x||a.needsUpdate||!a.bounds)?(s.cleanSlide(a),s.setContent(n,l),1===h&&(s.currItem=a,s.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===n.index&&l>=0&&s.setContent(n,l),a&&a.container&&(Be(a,dt),je(a),Rt(a));x=!1}g=_=s.currItem.initialZoomLevel,(tt=s.currItem.bounds)&&(ct.x=tt.center.x,ct.y=tt.center.y,At(!0)),St("resize")},zoomTo:function(t,e,i,n,s){e&&(g=_,ce.x=Math.abs(e.x)-ct.x,ce.y=Math.abs(e.y)-ct.y,Pt(ut,ct));var r=Nt(t,!1),a={};Gt("x",r,a,t),Gt("y",r,a,t);var l=_,h=ct.x,u=ct.y;kt(a);var c=function(e){1===e?(_=t,ct.x=a.x,ct.y=a.y):(_=(t-l)*e+l,ct.x=(a.x-h)*e+h,ct.y=(a.y-u)*e+u),s&&s(e),At(1===e)};i?jt("customZoomTo",0,1,i,n||o.easing.sine.inOut,c):c(1)}},Qt={},Jt={},te={},ee={},ie={},ne=[],oe={},se=[],re={},ae=0,le={x:0,y:0},he=0,ue={x:0,y:0},ce={x:0,y:0},de={x:0,y:0},pe=function(t,e){return re.x=Math.abs(t.x-e.x),re.y=Math.abs(t.y-e.y),Math.sqrt(re.x*re.x+re.y*re.y)},fe=function(){K&&(O(K),K=null)},me=function(){W&&(K=M(me),Ae())},_e=function(t,e){return!(!t||t===document)&&!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(e(t)?t:_e(t.parentNode,e))},ge={},ve=function(t,e){return ge.prevent=!_e(t.target,r.isClickableElement),St("preventDragEvent",t,e,ge),ge.prevent},ye=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},we=function(t,e,i){i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y)},xe=function(){var t=ct.y-s.currItem.initialPosition.y;return 1-Math.abs(t/(dt.y/2))},be={},De={},Te=[],Se=function(t){for(;Te.length>0;)Te.pop();return A?(lt=0,ne.forEach(function(t){0===lt?Te[0]=t:1===lt&&(Te[1]=t),lt++})):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(Te[0]=ye(t.touches[0],be),t.touches.length>1&&(Te[1]=ye(t.touches[1],De))):(be.x=t.pageX,be.y=t.pageY,be.id="",Te[0]=be),Te},Ce=function(t,e){var i,n,o,a,l=ct[t]+e[t],h=e[t]>0,u=ue.x+e.x,c=ue.x-oe.x;if(i=l>tt.min[t]||l<tt.max[t]?r.panEndFriction:1,l=ct[t]+e[t]*i,(r.allowPanToNext||_===s.currItem.initialZoomLevel)&&(et?"h"!==nt||"x"!==t||U||(h?(l>tt.min[t]&&(i=r.panEndFriction,tt.min[t],n=tt.min[t]-ut[t]),(n<=0||c<0)&&Ge()>1?(a=u,c<0&&u>oe.x&&(a=oe.x)):tt.min.x!==tt.max.x&&(o=l)):(l<tt.max[t]&&(i=r.panEndFriction,tt.max[t],n=ut[t]-tt.max[t]),(n<=0||c>0)&&Ge()>1?(a=u,c>0&&u<oe.x&&(a=oe.x)):tt.min.x!==tt.max.x&&(o=l))):a=u,"x"===t))return void 0!==a&&(Ot(a,!0),j=a!==oe.x),tt.min.x!==tt.max.x&&(void 0!==o?ct.x=o:j||(ct.x+=e.x*i)),void 0!==a;it||j||_>s.currItem.fitRatio&&(ct[t]+=e[t]*i)},Ie=function(t){if(!("mousedown"===t.type&&t.button>0))if(He)t.preventDefault();else if(!Z||"mousedown"!==t.type){if(ve(t,!0)&&t.preventDefault(),St("pointerDown"),A){var e=o.arraySearch(ne,t.pointerId,"id");e<0&&(e=ne.length),ne[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var i=Se(t),n=i.length;$=null,Kt(),W&&1!==n||(W=ot=!0,o.bind(window,p,s),X=at=st=q=j=V=B=U=!1,nt=null,St("firstTouchStart",i),Pt(ut,ct),ht.x=ht.y=0,Pt(ee,i[0]),Pt(ie,ee),oe.x=mt.x*pt,se=[{x:ee.x,y:ee.y}],Y=H=Ct(),Nt(_,!0),fe(),me()),!Q&&n>1&&!it&&!j&&(g=_,U=!1,Q=B=!0,ht.y=ht.x=0,Pt(ut,ct),Pt(Qt,i[0]),Pt(Jt,i[1]),we(Qt,Jt,de),ce.x=Math.abs(de.x)-ct.x,ce.y=Math.abs(de.y)-ct.y,J=pe(Qt,Jt))}},Ee=function(t){if(t.preventDefault(),A){var e=o.arraySearch(ne,t.pointerId,"id");if(e>-1){var i=ne[e];i.x=t.pageX,i.y=t.pageY}}if(W){var n=Se(t);if(nt||V||Q)$=n;else if(ue.x!==mt.x*pt)nt="h";else{var s=Math.abs(n[0].x-ee.x)-Math.abs(n[0].y-ee.y);Math.abs(s)>=10&&(nt=s>0?"h":"v",$=n)}}},Ae=function(){if($){var t=$.length;if(0!==t)if(Pt(Qt,$[0]),te.x=Qt.x-ee.x,te.y=Qt.y-ee.y,Q&&t>1){if(ee.x=Qt.x,ee.y=Qt.y,!te.x&&!te.y&&function(t,e){return t.x===e.x&&t.y===e.y}($[1],Jt))return;Pt(Jt,$[1]),U||(U=!0,St("zoomGestureStarted"));var e=pe(Qt,Jt),i=Pe(e);i>s.currItem.initialZoomLevel+s.currItem.initialZoomLevel/15&&(at=!0);var n=1,o=Ht(),a=Yt();if(i<o)if(r.pinchToClose&&!at&&g<=s.currItem.initialZoomLevel){var l=1-(o-i)/(o/1.2);It(l),St("onPinchClose",l),st=!0}else(n=(o-i)/o)>1&&(n=1),i=o-n*(o/3);else i>a&&((n=(i-a)/(6*o))>1&&(n=1),i=a+n*o);n<0&&(n=0),we(Qt,Jt,le),ht.x+=le.x-de.x,ht.y+=le.y-de.y,Pt(de,le),ct.x=Lt("x",i),ct.y=Lt("y",i),X=i>_,_=i,At()}else{if(!nt)return;if(ot&&(ot=!1,Math.abs(te.x)>=10&&(te.x-=$[0].x-ie.x),Math.abs(te.y)>=10&&(te.y-=$[0].y-ie.y)),ee.x=Qt.x,ee.y=Qt.y,0===te.x&&0===te.y)return;if("v"===nt&&r.closeOnVerticalDrag&&"fit"===r.scaleMode&&_===s.currItem.initialZoomLevel){ht.y+=te.y,ct.y+=te.y;var h=xe();return q=!0,St("onVerticalDrag",h),It(h),void At()}!function(t,e,i){if(t-Y>50){var n=se.length>2?se.shift():{};n.x=e,n.y=i,se.push(n),Y=t}}(Ct(),Qt.x,Qt.y),V=!0,tt=s.currItem.bounds,Ce("x",te)||(Ce("y",te),kt(ct),At())}}},Re=function(t){if(z.isOldAndroid){if(Z&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(Z),Z=setTimeout(function(){Z=0},600))}var e;if(St("pointerUp"),ve(t,!1)&&t.preventDefault(),A){var i=o.arraySearch(ne,t.pointerId,"id");i>-1&&(e=ne.splice(i,1)[0],navigator.pointerEnabled?e.type=t.pointerType||"mouse":(e.type={4:"mouse",2:"touch",3:"pen"}[t.pointerType],e.type||(e.type=t.pointerType||"mouse")))}var n,a=Se(t),l=a.length;if("mouseup"===t.type&&(l=0),2===l)return $=null,!0;1===l&&Pt(ie,a[0]),0!==l||nt||it||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),St("touchRelease",t,e));var h=-1;if(0===l&&(W=!1,o.unbind(window,p,s),fe(),Q?h=0:-1!==he&&(h=Ct()-he)),he=1===l?Ct():-1,n=-1!==h&&h<150?"zoom":"swipe",Q&&l<2&&(Q=!1,1===l&&(n="zoomPointerUp"),St("zoomGestureEnded")),$=null,V||U||it||q)if(Kt(),G||(G=Me()),G.calculateSwipeSpeed("x"),q)if(xe()<r.verticalDragRange)s.close();else{var u=ct.y,c=rt;jt("verticalDrag",0,1,300,o.easing.cubic.out,function(t){ct.y=(s.currItem.initialPosition.y-u)*t+u,It((1-c)*t+c),At()}),St("onVerticalDrag",1)}else{if((j||it)&&0===l){if(Le(n,G))return;n="zoomPointerUp"}it||("swipe"===n?!j&&_>s.currItem.fitRatio&&Oe(G):ke())}},Me=function(){var t,e,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){se.length>1?(t=Ct()-Y+50,e=se[se.length-2][n]):(t=Ct()-H,e=ie[n]),i.lastFlickOffset[n]=ee[n]-e,i.lastFlickDist[n]=Math.abs(i.lastFlickOffset[n]),i.lastFlickDist[n]>20?i.lastFlickSpeed[n]=i.lastFlickOffset[n]/t:i.lastFlickSpeed[n]=0,Math.abs(i.lastFlickSpeed[n])<.1&&(i.lastFlickSpeed[n]=0),i.slowDownRatio[n]=.95,i.slowDownRatioReverse[n]=1-i.slowDownRatio[n],i.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(ct[t]>tt.min[t]?i.backAnimDestination[t]=tt.min[t]:ct[t]<tt.max[t]&&(i.backAnimDestination[t]=tt.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,jt("bounceZoomPan"+t,ct[t],i.backAnimDestination[t],e||300,o.easing.sine.out,function(e){ct[t]=e,At()}))))},calculateAnimOffset:function(t){i.backAnimStarted[t]||(i.speedDecelerationRatio[t]=i.speedDecelerationRatio[t]*(i.slowDownRatio[t]+i.slowDownRatioReverse[t]-i.slowDownRatioReverse[t]*i.timeDiff/10),i.speedDecelerationRatioAbs[t]=Math.abs(i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]),i.distanceOffset[t]=i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]*i.timeDiff,ct[t]+=i.distanceOffset[t])},panAnimLoop:function(){if(Wt.zoomPan&&(Wt.zoomPan.raf=M(i.panAnimLoop),i.now=Ct(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),At(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return ct.x=Math.round(ct.x),ct.y=Math.round(ct.y),At(),void Ut("zoomPan")}};return i},Oe=function(t){if(t.calculateSwipeSpeed("y"),tt=s.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05)return t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0;Vt("zoomPan"),t.lastNow=Ct(),t.panAnimLoop()},Le=function(t,e){var i,n,a;if(it||(ae=u),"swipe"===t){var l=ee.x-ie.x,h=e.lastFlickDist.x<10;l>30&&(h||e.lastFlickOffset.x>20)?n=-1:l<-30&&(h||e.lastFlickOffset.x<-20)&&(n=1)}n&&((u+=n)<0?(u=r.loop?Ge()-1:0,a=!0):u>=Ge()&&(u=r.loop?0:Ge()-1,a=!0),a&&!r.loop||(_t+=n,pt-=n,i=!0));var c,d=mt.x*pt,p=Math.abs(d-ue.x);return i||d>ue.x==e.lastFlickSpeed.x>0?(c=Math.abs(e.lastFlickSpeed.x)>0?p/Math.abs(e.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,ae===u&&(i=!1),it=!0,St("mainScrollAnimStart"),jt("mainScroll",ue.x,d,c,o.easing.cubic.out,Ot,function(){Kt(),it=!1,ae=-1,(i||ae!==u)&&s.updateCurrItem(),St("mainScrollAnimComplete")}),i&&s.updateCurrItem(!0),i},Pe=function(t){return 1/J*t*g},ke=function(){var t=_,e=Ht(),i=Yt();_<e?t=e:_>i&&(t=i);var n,r=rt;return st&&!X&&!at&&_<e?(s.close(),!0):(st&&(n=function(t){It((1-r)*t+r)}),s.zoomTo(t,0,200,o.easing.cubic.out,n),!0)};xt("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,i,n,o){T=t+e,S=t+i,C=t+n,I=o?t+o:""};(A=z.pointerEvent)&&z.touch&&(z.touch=!1),A?navigator.pointerEnabled?t("pointer","down","move","up","cancel"):t("MSPointer","Down","Move","Up","Cancel"):z.touch?(t("touch","start","move","end","cancel"),R=!0):t("mouse","down","move","up"),p=S+" "+C+" "+I,f=T,A&&!R&&(R=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),s.likelyTouchDevice=R,m[T]=Ie,m[S]=Ee,m[C]=Re,I&&(m[I]=m[C]),z.touch&&(f+=" mousedown",p+=" mousemove mouseup",m.mousedown=m[T],m.mousemove=m[S],m.mouseup=m[C]),R||(r.allowPanToNext=!1)}}});var Fe,ze,Ne,He,Ye,Ge,Xe=function(e,i,n,a){var l;Fe&&clearTimeout(Fe),He=!0,Ne=!0,e.initialLayout?(l=e.initialLayout,e.initialLayout=null):l=r.getThumbBoundsFn&&r.getThumbBoundsFn(u);var c,d,p=n?r.hideAnimationDuration:r.showAnimationDuration,f=function(){Ut("initialZoom"),n?(s.template.removeAttribute("style"),s.bg.removeAttribute("style")):(It(1),i&&(i.style.display="block"),o.addClass(t,"pswp--animated-in"),St("initialZoom"+(n?"OutEnd":"InEnd"))),a&&a(),He=!1};if(!p||!l||void 0===l.x)return St("initialZoom"+(n?"Out":"In")),_=e.initialZoomLevel,Pt(ct,e.initialPosition),At(),t.style.opacity=n?0:1,It(1),void(p?setTimeout(function(){f()},p):f());c=h,d=!s.currItem.src||s.currItem.loadError||r.showHideOpacity,e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),n||(_=l.w/e.w,ct.x=l.x,ct.y=l.y-P,s[d?"template":"bg"].style.opacity=.001,At()),Vt("initialZoom"),n&&!c&&o.removeClass(t,"pswp--animated-in"),d&&(n?o[(c?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout(function(){o.addClass(t,"pswp--animate_opacity")},30)),Fe=setTimeout(function(){if(St("initialZoom"+(n?"Out":"In")),n){var i=l.w/e.w,s={x:ct.x,y:ct.y},r=_,a=rt,h=function(e){1===e?(_=i,ct.x=l.x,ct.y=l.y-F):(_=(i-r)*e+r,ct.x=(l.x-s.x)*e+s.x,ct.y=(l.y-F-s.y)*e+s.y),At(),d?t.style.opacity=1-e:It(a-e*a)};c?jt("initialZoom",0,1,p,o.easing.cubic.out,h,f):(h(1),Fe=setTimeout(f,p+20))}else _=e.initialZoomLevel,Pt(ct,e.initialPosition),At(),It(1),d?t.style.opacity=1:It(1),Fe=setTimeout(f,p+20)},n?25:90)},qe={},Ze=[],We={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return ze.length}},Be=function(t,e,i){if(t.src&&!t.loadError){var n=!i;if(n&&(t.vGap||(t.vGap={top:0,bottom:0}),St("parseVerticalMargin",t)),qe.x=e.x,qe.y=e.y-t.vGap.top-t.vGap.bottom,n){var o=qe.x/t.w,s=qe.y/t.h;t.fitRatio=o<s?o:s;var a=r.scaleMode;"orig"===a?i=1:"fit"===a&&(i=t.fitRatio),i>1&&(i=1),t.initialZoomLevel=i,t.bounds||(t.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!i)return;return function(t,e,i){var n=t.bounds;n.center.x=Math.round((qe.x-e)/2),n.center.y=Math.round((qe.y-i)/2)+t.vGap.top,n.max.x=e>qe.x?Math.round(qe.x-e):n.center.x,n.max.y=i>qe.y?Math.round(qe.y-i)+t.vGap.top:n.center.y,n.min.x=e>qe.x?0:n.center.x,n.min.y=i>qe.y?t.vGap.top:n.center.y}(t,t.w*i,t.h*i),n&&i===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},t.initialPosition=t.bounds.center,t.bounds},Ue=function(t,e,i,n,o,r){e.loadError||n&&(e.imageAppended=!0,je(e,n,e===s.currItem&&wt),i.appendChild(n),r&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)},500))},Ve=function(t){t.loading=!0,t.loaded=!1;var e=t.img=o.createEl("pswp__img","img"),i=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=i,e.onerror=function(){t.loadError=!0,i()},e.src=t.src,e},Ke=function(t,e){if(t.src&&t.loadError&&t.container)return e&&(t.container.innerHTML=""),t.container.innerHTML=r.errorMsg.replace("%url%",t.src),!0},je=function(t,e,i){if(t.src){e||(e=t.container.lastChild);var n=i?t.w:Math.round(t.w*t.fitRatio),o=i?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=n+"px",t.placeholder.style.height=o+"px"),e.style.width=n+"px",e.style.height=o+"px"}},$e=function(){if(Ze.length){for(var t,e=0;e<Ze.length;e++)(t=Ze[e]).holder.index===t.index&&Ue(t.index,t.item,t.baseDiv,t.img,0,t.clearPlaceholder);Ze=[]}};xt("Controller",{publicMethods:{lazyLoadItem:function(t){t=bt(t);var e=Ye(t);e&&(!e.loaded&&!e.loading||x)&&(St("gettingData",t,e),e.src&&Ve(e))},initController:function(){o.extend(r,We,!0),s.items=ze=i,Ye=s.getItemAt,Ge=r.getNumItemsFn,r.loop,Ge()<3&&(r.loop=!1),Tt("beforeChange",function(t){var e,i=r.preload,n=null===t||t>=0,o=Math.min(i[0],Ge()),a=Math.min(i[1],Ge());for(e=1;e<=(n?a:o);e++)s.lazyLoadItem(u+e);for(e=1;e<=(n?o:a);e++)s.lazyLoadItem(u-e)}),Tt("initialLayout",function(){s.currItem.initialLayout=r.getThumbBoundsFn&&r.getThumbBoundsFn(u)}),Tt("mainScrollAnimComplete",$e),Tt("initialZoomInEnd",$e),Tt("destroy",function(){for(var t,e=0;e<ze.length;e++)(t=ze[e]).container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);Ze=null})},getItemAt:function(t){return t>=0&&void 0!==ze[t]&&ze[t]},allowProgressiveImg:function(){return r.forceProgressiveLoading||!R||r.mouseUsed||screen.width>1200},setContent:function(t,e){r.loop&&(e=bt(e));var i=s.getItemAt(t.index);i&&(i.container=null);var n,l=s.getItemAt(e);if(l){St("gettingData",e,l),t.index=e,t.item=l;var h=l.container=o.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?h.appendChild(l.html):h.innerHTML=l.html),Ke(l),Be(l,dt),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((n=o.createEl("pswp__img","img")).style.opacity=1,n.src=l.src,je(l,n),Ue(0,l,h,n));else{if(l.loadComplete=function(i){if(a){if(t&&t.index===e){if(Ke(i,!0))return i.loadComplete=i.img=null,Be(i,dt),Rt(i),void(t.index===u&&s.updateCurrZoomItem());i.imageAppended?!He&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):z.transform&&(it||He)?Ze.push({item:i,baseDiv:h,img:i.img,index:e,holder:t,clearPlaceholder:!0}):Ue(0,i,h,i.img,0,!0)}i.loadComplete=null,i.img=null,St("imageLoadComplete",e,i)}},o.features.transform){var c="pswp__img pswp__img--placeholder";c+=l.msrc?"":" pswp__img--placeholder--blank";var d=o.createEl(c,l.msrc?"img":"");l.msrc&&(d.src=l.msrc),je(l,d),h.appendChild(d),l.placeholder=d}l.loading||Ve(l),s.allowProgressiveImg()&&(!Ne&&z.transform?Ze.push({item:l,baseDiv:h,img:l.img,index:e,holder:t}):Ue(0,l,h,l.img,0,!0))}Ne||e!==u?Rt(l):(et=h.style,Xe(l,n||l.img)),t.el.innerHTML="",t.el.appendChild(h)}else t.el.innerHTML=""},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var Qe,Je,ti={},ei=function(t,e,i){var n=document.createEvent("CustomEvent"),o={origEvent:t,target:t.target,releasePoint:e,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,o),t.target.dispatchEvent(n)};xt("Tap",{publicMethods:{initTap:function(){Tt("firstTouchStart",s.onTapStart),Tt("touchRelease",s.onTapRelease),Tt("destroy",function(){ti={},Qe=null})},onTapStart:function(t){t.length>1&&(clearTimeout(Qe),Qe=null)},onTapRelease:function(t,e){var i,n;if(e&&!V&&!B&&!Bt){var s=e;if(Qe&&(clearTimeout(Qe),Qe=null,i=s,n=ti,Math.abs(i.x-n.x)<25&&Math.abs(i.y-n.y)<25))return void St("doubleTap",s);if("mouse"===e.type)return void ei(t,e,"mouse");if("BUTTON"===t.target.tagName.toUpperCase()||o.hasClass(t.target,"pswp__single-tap"))return void ei(t,e);Pt(ti,s),Qe=setTimeout(function(){ei(t,e),Qe=null},300)}}}}),xt("DesktopZoom",{publicMethods:{initDesktopZoom:function(){k||(R?Tt("mouseUsed",function(){s.setupDesktopZoom()}):s.setupDesktopZoom(!0))},setupDesktopZoom:function(e){Je={};var i="wheel mousewheel DOMMouseScroll";Tt("bindEvents",function(){o.bind(t,i,s.handleMouseWheel)}),Tt("unbindEvents",function(){Je&&o.unbind(t,i,s.handleMouseWheel)}),s.mouseZoomedIn=!1;var n,r=function(){s.mouseZoomedIn&&(o.removeClass(t,"pswp--zoomed-in"),s.mouseZoomedIn=!1),_<1?o.addClass(t,"pswp--zoom-allowed"):o.removeClass(t,"pswp--zoom-allowed"),a()},a=function(){n&&(o.removeClass(t,"pswp--dragging"),n=!1)};Tt("resize",r),Tt("afterChange",r),Tt("pointerDown",function(){s.mouseZoomedIn&&(n=!0,o.addClass(t,"pswp--dragging"))}),Tt("pointerUp",a),e||r()},handleMouseWheel:function(t){if(_<=s.currItem.fitRatio)return r.modal&&(!r.closeOnScroll||Bt||W?t.preventDefault():E&&Math.abs(t.deltaY)>2&&(h=!0,s.close())),!0;if(t.stopPropagation(),Je.x=0,"deltaX"in t)1===t.deltaMode?(Je.x=18*t.deltaX,Je.y=18*t.deltaY):(Je.x=t.deltaX,Je.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(Je.x=-.16*t.wheelDeltaX),t.wheelDeltaY?Je.y=-.16*t.wheelDeltaY:Je.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;Je.y=t.detail}Nt(_,!0);var e=ct.x-Je.x,i=ct.y-Je.y;(r.modal||e<=tt.min.x&&e>=tt.max.x&&i<=tt.min.y&&i>=tt.max.y)&&t.preventDefault(),s.panTo(e,i)},toggleDesktopZoom:function(e){e=e||{x:dt.x/2+ft.x,y:dt.y/2+ft.y};var i=r.getDoubleTapZoom(!0,s.currItem),n=_===i;s.mouseZoomedIn=!n,s.zoomTo(n?s.currItem.initialZoomLevel:i,e,333),o[(n?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var ii,ni,oi,si,ri,ai,li,hi,ui,ci,di,pi,fi={history:!0,galleryUID:1},mi=function(){return di.hash.substring(1)},_i=function(){ii&&clearTimeout(ii),oi&&clearTimeout(oi)},gi=function(){var t=mi(),e={};if(t.length<5)return e;var i,n=t.split("&");for(i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(e[o[0]]=o[1])}if(r.galleryPIDs){var s=e.pid;for(e.pid=0,i=0;i<ze.length;i++)if(ze[i].pid===s){e.pid=i;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},vi=function(){if(oi&&clearTimeout(oi),Bt||W)oi=setTimeout(vi,500);else{si?clearTimeout(ni):si=!0;var t=u+1,e=Ye(u);e.hasOwnProperty("pid")&&(t=e.pid);var i=li+"&gid="+r.galleryUID+"&pid="+t;hi||-1===di.hash.indexOf(i)&&(ci=!0);var n=di.href.split("#")[0]+"#"+i;pi?"#"+i!==window.location.hash&&history[hi?"replaceState":"pushState"]("",document.title,n):hi?di.replace(n):di.hash=i,hi=!0,ni=setTimeout(function(){si=!1},60)}};xt("History",{publicMethods:{initHistory:function(){if(o.extend(r,fi,!0),r.history){di=window.location,ci=!1,ui=!1,hi=!1,li=mi(),pi="pushState"in history,li.indexOf("gid=")>-1&&(li=(li=li.split("&gid=")[0]).split("?gid=")[0]),Tt("afterChange",s.updateURL),Tt("unbindEvents",function(){o.unbind(window,"hashchange",s.onHashChange)});var t=function(){ai=!0,ui||(ci?history.back():li?di.hash=li:pi?history.pushState("",document.title,di.pathname+di.search):di.hash=""),_i()};Tt("unbindEvents",function(){h&&t()}),Tt("destroy",function(){ai||t()}),Tt("firstUpdate",function(){u=gi().pid});var e=li.indexOf("pid=");e>-1&&"&"===(li=li.substring(0,e)).slice(-1)&&(li=li.slice(0,-1)),setTimeout(function(){a&&o.bind(window,"hashchange",s.onHashChange)},40)}},onHashChange:function(){if(mi()===li)return ui=!0,void s.close();si||(ri=!0,s.goTo(gi().pid),ri=!1)},updateURL:function(){_i(),ri||(hi?ii=setTimeout(vi,800):vi())}}}),o.extend(s,$t)}}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipeUI_Default=e()}(this,function(){"use strict";return function(t,e){var i,n,o,s,r,a,l,h,u,c,d,p,f,m,_,g,v,y,w=this,x=!1,b=!0,D=!0,T={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},S=function(t){if(g)return!0;t=t||window.event,_.timeToIdle&&_.mouseUsed&&!u&&P();for(var i,n,o=(t.target||t.srcElement).getAttribute("class")||"",s=0;s<N.length;s++)(i=N[s]).onTap&&o.indexOf("pswp__"+i.name)>-1&&(i.onTap(),n=!0);if(n){t.stopPropagation&&t.stopPropagation(),g=!0;var r=e.features.isOldAndroid?600:30;setTimeout(function(){g=!1},r)}},C=function(t,i,n){e[(n?"add":"remove")+"Class"](t,"pswp__"+i)},I=function(){var t=1===_.getNumItemsFn();t!==m&&(C(n,"ui--one-slide",t),m=t)},E=function(){C(l,"share-modal--hidden",D)},A=function(){return(D=!D)?(e.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){D&&E()},300)):(E(),setTimeout(function(){D||e.addClass(l,"pswp__share-modal--fade-in")},30)),D||M(),!1},R=function(e){var i=(e=e||window.event).target||e.srcElement;return t.shout("shareLinkClick",e,i),!(!i.href||!i.hasAttribute("download")&&(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),D||A(),1))},M=function(){for(var t,e,i,n,o="",s=0;s<_.shareButtons.length;s++)t=_.shareButtons[s],e=_.getImageURLForShare(t),i=_.getPageURLForShare(t),n=_.getTextForShare(t),o+='<a href="'+t.url.replace("{{url}}",encodeURIComponent(i)).replace("{{image_url}}",encodeURIComponent(e)).replace("{{raw_image_url}}",e).replace("{{text}}",encodeURIComponent(n))+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",_.parseShareButtonOut&&(o=_.parseShareButtonOut(t,o));l.children[0].innerHTML=o,l.children[0].onclick=R},O=function(t){for(var i=0;i<_.closeElClasses.length;i++)if(e.hasClass(t,"pswp__"+_.closeElClasses[i]))return!0},L=0,P=function(){clearTimeout(y),L=0,u&&w.setIdle(!1)},k=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(y),y=setTimeout(function(){w.setIdle(!0)},_.timeToIdleOutside))},F=function(t){p!==t&&(C(d,"preloader--active",!t),p=t)},z=function(i){var r=i.vGap;if(!t.likelyTouchDevice||_.mouseUsed||screen.width>_.fitControlsWidth){var a=_.barsSize;if(_.captionEl&&"auto"===a.bottom)if(s||((s=e.createEl("pswp__caption pswp__caption--fake")).appendChild(e.createEl("pswp__caption__center")),n.insertBefore(s,o),e.addClass(n,"pswp__ui--fit")),_.addCaptionHTMLFn(i,s,!0)){var l=s.clientHeight;r.bottom=parseInt(l,10)||44}else r.bottom=a.top;else r.bottom="auto"===a.bottom?0:a.bottom;r.top=a.top}else r.top=r.bottom=0},N=[{name:"caption",option:"captionEl",onInit:function(t){o=t}},{name:"share-modal",option:"shareEl",onInit:function(t){l=t},onTap:function(){A()}},{name:"button--share",option:"shareEl",onInit:function(t){a=t},onTap:function(){A()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){r=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){i.isFullscreen()?i.exit():i.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){d=t}}];w.init=function(){var r;e.extend(t.options,T,!0),_=t.options,n=e.getChildByClass(t.scrollWrap,"pswp__ui"),(c=t.listen)("onVerticalDrag",function(t){b&&t<.95?w.hideControls():!b&&t>=.95&&w.showControls()}),c("onPinchClose",function(t){b&&t<.9?(w.hideControls(),r=!0):r&&!b&&t>.9&&w.showControls()}),c("zoomGestureEnded",function(){(r=!1)&&!b&&w.showControls()}),c("beforeChange",w.update),c("doubleTap",function(e){var i=t.currItem.initialZoomLevel;t.getZoomLevel()!==i?t.zoomTo(i,e,333):t.zoomTo(_.getDoubleTapZoom(!1,t.currItem),e,333)}),c("preventDragEvent",function(t,e,i){var n=t.target||t.srcElement;n&&n.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(n.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)}),c("bindEvents",function(){e.bind(n,"pswpTap click",S),e.bind(t.scrollWrap,"pswpTap",w.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",w.onMouseOver)}),c("unbindEvents",function(){D||A(),v&&clearInterval(v),e.unbind(document,"mouseout",k),e.unbind(document,"mousemove",P),e.unbind(n,"pswpTap click",S),e.unbind(t.scrollWrap,"pswpTap",w.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",w.onMouseOver),i&&(e.unbind(document,i.eventK,w.updateFullscreen),i.isFullscreen()&&(_.hideAnimationDuration=0,i.exit()),i=null)}),c("destroy",function(){_.captionEl&&(s&&n.removeChild(s),e.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),e.removeClass(n,"pswp__ui--over-close"),e.addClass(n,"pswp__ui--hidden"),w.setIdle(!1)}),_.showAnimationDuration||e.removeClass(n,"pswp__ui--hidden"),c("initialZoomIn",function(){_.showAnimationDuration&&e.removeClass(n,"pswp__ui--hidden")}),c("initialZoomOut",function(){e.addClass(n,"pswp__ui--hidden")}),c("parseVerticalMargin",z),function(){var t,i,o,s=function(n){if(n)for(var s=n.length,r=0;r<s;r++){t=n[r],i=t.className;for(var a=0;a<N.length;a++)o=N[a],i.indexOf("pswp__"+o.name)>-1&&(_[o.option]?(e.removeClass(t,"pswp__element--disabled"),o.onInit&&o.onInit(t)):e.addClass(t,"pswp__element--disabled"))}};s(n.children);var r=e.getChildByClass(n,"pswp__top-bar");r&&s(r.children)}(),_.shareEl&&a&&l&&(D=!0),I(),_.timeToIdle&&c("mouseUsed",function(){e.bind(document,"mousemove",P),e.bind(document,"mouseout",k),v=setInterval(function(){2==++L&&w.setIdle(!0)},_.timeToIdle/2)}),_.fullscreenEl&&!e.features.isOldAndroid&&(i||(i=w.getFullscreenAPI()),i?(e.bind(document,i.eventK,w.updateFullscreen),w.updateFullscreen(),e.addClass(t.template,"pswp--supports-fs")):e.removeClass(t.template,"pswp--supports-fs")),_.preloaderEl&&(F(!0),c("beforeChange",function(){clearTimeout(f),f=setTimeout(function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&F(!1):F(!0)},_.loadingIndicatorDelay)}),c("imageLoadComplete",function(e,i){t.currItem===i&&F(!0)}))},w.setIdle=function(t){u=t,C(n,"ui--idle",t)},w.update=function(){b&&t.currItem?(w.updateIndexIndicator(),_.captionEl&&(_.addCaptionHTMLFn(t.currItem,o),C(o,"caption--empty",!t.currItem.title)),x=!0):x=!1,D||A(),I()},w.updateFullscreen=function(n){n&&setTimeout(function(){t.setScrollOffset(0,e.getScrollY())},50),e[(i.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},w.updateIndexIndicator=function(){_.counterEl&&(r.innerHTML=t.getCurrentIndex()+1+_.indexIndicatorSep+_.getNumItemsFn())},w.onGlobalTap=function(i){var n=(i=i||window.event).target||i.srcElement;if(!g)if(i.detail&&"mouse"===i.detail.pointerType){if(O(n))return void t.close();e.hasClass(n,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?_.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(i.detail.releasePoint))}else if(_.tapToToggleControls&&(b?w.hideControls():w.showControls()),_.tapToClose&&(e.hasClass(n,"pswp__img")||O(n)))return void t.close()},w.onMouseOver=function(t){var e=(t=t||window.event).target||t.srcElement;C(n,"ui--over-close",O(e))},w.hideControls=function(){e.addClass(n,"pswp__ui--hidden"),b=!1},w.showControls=function(){b=!0,x||w.update(),e.removeClass(n,"pswp__ui--hidden")},w.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},w.getFullscreenAPI=function(){var e,i=document.documentElement,n="fullscreenchange";return i.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:i.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:i.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:i.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if(h=_.closeOnScroll,_.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return t.template[this.enterK]();t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return _.closeOnScroll=h,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}});